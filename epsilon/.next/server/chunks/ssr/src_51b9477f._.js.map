{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/actions/auth.ts"],"sourcesContent":["'use server'\n\nimport { signOut, signIn, auth } from '@/auth'\nimport { AuthError } from 'next-auth';\n\nexport async function signOutAction(redirectTo = '/login') {\n  await signOut({ redirectTo })\n}\n\nexport async function login(formData: FormData) {\n  'use server';\n  try {\n    return await signIn('credentials', formData);\n  } catch (err) {\n    if (err instanceof AuthError) {\n      return { error: err.type ?? 'AuthError' };\n    }\n    throw err;\n  }\n}\n\nexport async function _login(username, password) {\n  'use server';\n  try {\n    await signIn('credentials', { username, password, redirect: false });\n    const session = await auth();\n    return { faction: session?.user?.faction ?? null };\n  } catch (err) {\n    if (err instanceof AuthError) {\n      return { error: err.type ?? 'AuthError' };\n    }\n    throw err;\n  }\n}\n\n\nexport async function loginPoliceman(username: string, password: string) {\n  try {\n    await signIn('police', {\n      username,\n      password,\n      redirectTo: '/sector/police/database',\n    });\n    return { ok: true };\n  } catch (err) {\n    if (err instanceof AuthError) {\n      return { error: err.type === 'CredentialsSignin'\n          ? 'Invalid credentials'\n          : 'Authentication error' };\n    }\n    throw err;\n  }\n}"],"names":[],"mappings":";;;;;;IAKsB,gBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/common/Dot/Dot.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { styled } from '@mui/material/styles';\nimport Tooltip from '@mui/material/Tooltip';\n\ninterface DotProps {\n  tooltip?: string;\n  variant: 'ok' | 'warning' | 'error';\n}\n\nconst DotRoot = styled('span')<{ variant: DotProps['variant'] }>(({ theme, variant }) => {\n  const colors: Record<DotProps['variant'], string> = {\n    ok: theme.palette.success.main,\n    warning: theme.palette.warning.main,\n    error: theme.palette.error.main,\n  };\n\n  return {\n    display: 'inline-block',\n    width: 12,\n    height: 12,\n    borderRadius: '50%',\n    backgroundColor: colors[variant],\n    boxShadow: `0 0 6px ${colors[variant]}, 0 0 12px ${colors[variant]}55`,\n    border: `1px solid ${theme.palette.grey[900]}`,\n    transition: 'transform 0.2s ease, box-shadow 0.3s ease',\n    '&:hover': {\n      transform: 'scale(1.3)',\n      boxShadow: `0 0 12px ${colors[variant]}, 0 0 24px ${colors[variant]}88`,\n    },\n  };\n});\n\nfunction Dot ({ tooltip, variant }: DotProps) {\n  const dot = <DotRoot variant={variant} />;\n  return tooltip ? <Tooltip title={tooltip}>{dot}</Tooltip> : dot;\n}\n\nexport default Dot;"],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAWA,MAAM,UAAU,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,QAA0C,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;IAClF,MAAM,SAA8C;QAClD,IAAI,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI;QAC9B,SAAS,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI;QACnC,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC,IAAI;IACjC;IAEA,OAAO;QACL,SAAS;QACT,OAAO;QACP,QAAQ;QACR,cAAc;QACd,iBAAiB,MAAM,CAAC,QAAQ;QAChC,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;QACtE,QAAQ,CAAC,UAAU,EAAE,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;QAC9C,YAAY;QACZ,WAAW;YACT,WAAW;YACX,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;QACzE;IACF;AACF;AAEA,SAAS,IAAK,EAAE,OAAO,EAAE,OAAO,EAAY;IAC1C,MAAM,oBAAM,8OAAC;QAAQ,SAAS;;;;;;IAC9B,OAAO,wBAAU,8OAAC,8JAAA,CAAA,UAAO;QAAC,OAAO;kBAAU;;;;;eAAiB;AAC9D;uCAEe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/users/context/index.tsx"],"sourcesContent":["'use client';\nimport { createContext, useContext } from 'react';\nimport { ApiUser } from '@/app/api/mappers/user';\n\nexport type UsersByHandle = Record<string, ApiUser>;\n\nexport interface UserContextType {\n  isLoading: boolean;\n  usersByHandle: UsersByHandle;\n  setSelected: (value: (((prevState: (ApiUser | null)) => (ApiUser | null)) | ApiUser | null)) => void;\n  fetch: (opts?: { signal?: AbortSignal }) => Promise<ApiUser[] | null>;\n  selected: ApiUser | null\n}\n\nexport const initialUserContext: UserContextType = {\n  isLoading: false,\n  usersByHandle: {},\n  setSelected: () => { return },\n  fetch: async (opts?: { signal?: AbortSignal }) => { return },\n  selected: null,\n};\n\nexport const UserContext = createContext<UserContextType>(initialUserContext);\n\nexport function useUsers() {\n  const ctx = useContext(UserContext);\n  if (!ctx) throw new Error('useUsers must be used within UserContextProvider');\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;AAcO,MAAM,qBAAsC;IACjD,WAAW;IACX,eAAe,CAAC;IAChB,aAAa;QAAQ;IAAO;IAC5B,OAAO,OAAO;QAAsC;IAAO;IAC3D,UAAU;AACZ;AAEO,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAmB;AAEnD,SAAS;IACd,MAAM,MAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/context/index.tsx"],"sourcesContent":["'use client';\nimport { createContext, useContext } from 'react';\nimport { NetworkType } from '@/types';\n\nexport interface NetworksContextType {\n  networksByName: Record<string, NetworkType>,\n  isLoading: boolean,\n}\n\nexport const initialNetworksContext: NetworksContextType = {\n  networksByName: {},\n  isLoading: false,\n};\n\nexport const NetworksContext = createContext<NetworksContextType>(initialNetworksContext);\n\nexport function useNetwork() {\n  const context = useContext(NetworksContext);\n  if (!context) throw new Error('useNetwork must be used within NetworkContextProvider');\n  return context;\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;AASO,MAAM,yBAA8C;IACzD,gBAAgB,CAAC;IACjB,WAAW;AACb;AAEO,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAuB;AAE3D,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/networks.ts"],"sourcesContent":["export const NETWORKS = {\n  'Aerospace': 'd3484b46-a31c-43b5-87fe-7465f5b3be3e',\n  'Neonode': '8d22da23-7698-44be-969a-aebfcaa02b6b',\n  'Synapse': 'c65641b7-45d6-4efa-8bb0-6979eb8e23e0',\n  'OpenNet': '0fdc0794-6c85-4c90-ba62-74383a045b86',\n  'TechNet': 'dd1d5109-368c-4270-8326-abef14f073be',\n  'directorsnetwork': 'bf3c1c2c-7d6d-497b-92ea-27686980e5e6',\n  // 'Sektor 5': '1beb97c4-99af-4a33-992a-4187c46bb9f9',\n  // 'ArcHelix_CorpNet': 'bf130032-8a72-4d7a-ba71-fce04c9804b9',\n  'ArcHelix_Glasshouse_19': '98c3906a-c001-4391-b1d0-a4e5560cfdbb',\n};\n\nexport type NetworkNameTypes = keyof typeof NETWORKS;"],"names":[],"mappings":";;;AAAO,MAAM,WAAW;IACtB,aAAa;IACb,WAAW;IACX,WAAW;IACX,WAAW;IACX,WAAW;IACX,oBAAoB;IACpB,sDAAsD;IACtD,8DAA8D;IAC9D,0BAA0B;AAC5B","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/context/provider.tsx"],"sourcesContent":["'use client';\n\nimport React, { memo, useEffect, useMemo, useState } from 'react';\nimport { initialNetworksContext, NetworksContextType, NetworksContext } from './';\nimport { NetworkNameTypes } from '@/components/modules/networks/networks';\nimport { NETWORKS } from '../';\n\nasync function fetchNetworks(ctrl: AbortController) {\n  return Promise.all(\n    (Object.entries(NETWORKS) as [NetworkNameTypes, string][])\n      .map(async ([name, id]) => {\n        try {\n          const res = await fetch(`/api/network/${encodeURIComponent(id)}`, {\n            cache: 'no-store',\n            signal: ctrl.signal,\n          });\n\n          if (!res.ok) {\n            return [name.toLowerCase(), initialNetworksContext.networksByName[name.toLowerCase()] ?? null] as const;\n          }\n\n          const data = await res.json().catch(() => null);\n          const networkVal = (data?.network ?? null) as NetworksContextType['networksByName'][string] | null;\n\n          return [name.toLowerCase(), networkVal] as const;\n        } catch (err: any) {\n          if (err?.name !== 'AbortError') {\n            console.error('Failed to load network', name, err);\n          }\n          return [name.toLowerCase(), null] as const;\n        }\n      })\n  );\n}\n\nfunction NetworkProvider({ children }: { children: React.ReactNode }) {\n  const [networksByName, setNetworksByName] = useState<NetworksContextType['networksByName']>(\n    initialNetworksContext.networksByName\n  );\n  const [isLoading, setIsLoading] = useState<NetworksContextType['isLoading']>(false);\n\n  useEffect(() => {\n    const ctrl = new AbortController();\n\n    const run = async () => {\n      setIsLoading(true);\n      try {\n        const entries = await fetchNetworks(ctrl);\n        const next = Object.fromEntries(entries) as NetworksContextType['networksByName'];\n        setNetworksByName(next);\n      } catch (err: any) {\n        if (err?.name !== 'AbortError') {\n          console.error('Failed to load networks', err);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    run();\n    return () => ctrl.abort();\n  }, []);\n\n  const contextValue: NetworksContextType = useMemo(\n    () => ({\n      networksByName,\n      isLoading,\n    }),\n    [networksByName, isLoading]\n  );\n\n  return <NetworksContext.Provider value={contextValue}>{children}</NetworksContext.Provider>;\n}\n\nexport default memo(NetworkProvider);\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AAAA;AALA;;;;;AAOA,eAAe,cAAc,IAAqB;IAChD,OAAO,QAAQ,GAAG,CAChB,AAAC,OAAO,OAAO,CAAC,oJAAA,CAAA,WAAQ,EACrB,GAAG,CAAC,OAAO,CAAC,MAAM,GAAG;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,EAAE,mBAAmB,KAAK,EAAE;gBAChE,OAAO;gBACP,QAAQ,KAAK,MAAM;YACrB;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,OAAO;oBAAC,KAAK,WAAW;oBAAI,6JAAA,CAAA,yBAAsB,CAAC,cAAc,CAAC,KAAK,WAAW,GAAG,IAAI;iBAAK;YAChG;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,aAAc,MAAM,WAAW;YAErC,OAAO;gBAAC,KAAK,WAAW;gBAAI;aAAW;QACzC,EAAE,OAAO,KAAU;YACjB,IAAI,KAAK,SAAS,cAAc;gBAC9B,QAAQ,KAAK,CAAC,0BAA0B,MAAM;YAChD;YACA,OAAO;gBAAC,KAAK,WAAW;gBAAI;aAAK;QACnC;IACF;AAEN;AAEA,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IAClE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EACjD,6JAAA,CAAA,yBAAsB,CAAC,cAAc;IAEvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoC;IAE7E,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,OAAO,IAAI;QAEjB,MAAM,MAAM;YACV,aAAa;YACb,IAAI;gBACF,MAAM,UAAU,MAAM,cAAc;gBACpC,MAAM,OAAO,OAAO,WAAW,CAAC;gBAChC,kBAAkB;YACpB,EAAE,OAAO,KAAU;gBACjB,IAAI,KAAK,SAAS,cAAc;oBAC9B,QAAQ,KAAK,CAAC,2BAA2B;gBAC3C;YACF,SAAU;gBACR,aAAa;YACf;QACF;QAEA;QACA,OAAO,IAAM,KAAK,KAAK;IACzB,GAAG,EAAE;IAEL,MAAM,eAAoC,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAC9C,IAAM,CAAC;YACL;YACA;QACF,CAAC,GACD;QAAC;QAAgB;KAAU;IAG7B,qBAAO,8OAAC,6JAAA,CAAA,kBAAe,CAAC,QAAQ;QAAC,OAAO;kBAAe;;;;;;AACzD;qDAEe,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/components/SubnetworkTable/styles.ts"],"sourcesContent":["import { styled } from '@mui/material/styles';\nimport { Button, Stack, TableContainer } from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\nexport const Container = styled(TableContainer)(({ theme }) => ({\n  marginBottom: theme.spacing(2),\n  borderRadius: theme.shape.borderRadius * 2,\n  overflow: 'hidden',\n  boxShadow: theme.shadows[3],\n}));\n\nexport const HeaderButton = styled(Button)(({ theme }) => ({\n  width: '100%',\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  padding: theme.spacing(1.25, 2),\n  borderBottomLeftRadius: 0,\n  borderBottomRightRadius: 0,\n}));\n\nexport const ExpandIcon = styled(ExpandMoreIcon)(({ theme }) => ({\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest,\n  }),\n}));\n\nexport const MetaBar = styled(Stack)(({ theme }) => ({\n  padding: theme.spacing(1.25, 2),\n  borderBottom: `1px dashed ${theme.palette.divider}`,\n  background: theme.palette.mode === 'dark'\n    ? theme.palette.grey[900]\n    : theme.palette.grey[50],\n}));"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AAAA;AACA;;;;AAEO,MAAM,YAAY,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,yNAAA,CAAA,iBAAc,EAAE,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC;QAC9D,cAAc,MAAM,OAAO,CAAC;QAC5B,cAAc,MAAM,KAAK,CAAC,YAAY,GAAG;QACzC,UAAU;QACV,WAAW,MAAM,OAAO,CAAC,EAAE;IAC7B,CAAC;AAEM,MAAM,eAAe,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,iMAAA,CAAA,SAAM,EAAE,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC;QACzD,OAAO;QACP,SAAS;QACT,gBAAgB;QAChB,YAAY;QACZ,SAAS,MAAM,OAAO,CAAC,MAAM;QAC7B,wBAAwB;QACxB,yBAAyB;IAC3B,CAAC;AAEM,MAAM,aAAa,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,+JAAA,CAAA,UAAc,EAAE,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC;QAC/D,YAAY,MAAM,WAAW,CAAC,MAAM,CAAC,aAAa;YAChD,UAAU,MAAM,WAAW,CAAC,QAAQ,CAAC,QAAQ;QAC/C;IACF,CAAC;AAEM,MAAM,UAAU,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,8LAAA,CAAA,QAAK,EAAE,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC;QACnD,SAAS,MAAM,OAAO,CAAC,MAAM;QAC7B,cAAc,CAAC,WAAW,EAAE,MAAM,OAAO,CAAC,OAAO,EAAE;QACnD,YAAY,MAAM,OAAO,CAAC,IAAI,KAAK,SAC/B,MAAM,OAAO,CAAC,IAAI,CAAC,IAAI,GACvB,MAAM,OAAO,CAAC,IAAI,CAAC,GAAG;IAC5B,CAAC","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/common/TableActionCell.tsx"],"sourcesContent":["import React from 'react';\nimport { alpha, TableCell, TableCellProps } from '@mui/material';\n\nfunction TableActionCell(props: TableCellProps) {\n  return (\n    <TableCell\n      sx={ t => ({ background: alpha(t.palette.primary.main, 0.05) }) }\n      onClick={ e => e.stopPropagation() }\n      { ...props }\n    />\n  );\n}\n\nexport default TableActionCell;"],"names":[],"mappings":";;;;AACA;AAAA;;;AAEA,SAAS,gBAAgB,KAAqB;IAC5C,qBACE,8OAAC,0MAAA,CAAA,YAAS;QACR,IAAK,CAAA,IAAK,CAAC;gBAAE,YAAY,CAAA,GAAA,8KAAA,CAAA,QAAK,AAAD,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;YAAM,CAAC;QAC9D,SAAU,CAAA,IAAK,EAAE,eAAe;QAC9B,GAAG,KAAK;;;;;;AAGhB;uCAEe","debugId":null}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/contexts/ModalProvider.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useCallback, useContext, useMemo, useRef, useState } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@mui/material';\nimport type { DialogProps } from '@mui/material/Dialog';\n\ntype ModalOptions = {\n  title?: React.ReactNode;\n  content?: React.ReactNode;\n  actions?: React.ReactNode; // custom actions; if omitted + confirm() used, default Confirm/Cancel are shown\n  dismissable?: boolean; // backdrop/esc close allowed\n  dialogProps?: Omit<DialogProps, 'open' | 'onClose'>;\n};\n\ntype ModalContextValue = {\n  open: (opts: ModalOptions) => void;\n  close: () => void;\n  confirm: (opts: Omit<ModalOptions, 'actions'>) => Promise<boolean>;\n};\n\nconst ModalContext = createContext<ModalContextValue | null>(null);\n\nexport function useModal() {\n  const ctx = useContext(ModalContext);\n  if (!ctx) throw new Error('useModal must be used within ModalProvider');\n  return ctx;\n}\n\nexport function ModalProvider({ children }: { children: React.ReactNode }) {\n  const [open, setOpen] = useState(false);\n  const [opts, setOpts] = useState<ModalOptions>({});\n  const resolverRef = useRef<((answer: boolean) => void) | null>(null);\n  const isConfirmRef = useRef(false);\n\n  const close = useCallback(() => {\n    setOpen(false);\n    // if confirm() was used and user closed via X/backdrop, treat as cancel\n    if (isConfirmRef.current && resolverRef.current) {\n      resolverRef.current(false);\n      resolverRef.current = null;\n      isConfirmRef.current = false;\n    }\n  }, []);\n\n  const handleRequestClose = useCallback(\n    (_e: unknown, reason?: 'backdropClick' | 'escapeKeyDown') => {\n      if (opts.dismissable === false && (reason === 'backdropClick' || reason === 'escapeKeyDown')) return;\n      close();\n    },\n    [close, opts.dismissable]\n  );\n\n  const openModal = useCallback((next: ModalOptions) => {\n    isConfirmRef.current = false;\n    resolverRef.current = null;\n    setOpts(next);\n    setOpen(true);\n  }, []);\n\n  const confirm = useCallback((next: Omit<ModalOptions, 'actions'>) => {\n    return new Promise<boolean>((resolve) => {\n      isConfirmRef.current = true;\n      resolverRef.current = resolve;\n      setOpts(next);\n      setOpen(true);\n    });\n  }, []);\n\n  const onConfirm = useCallback(() => {\n    setOpen(false);\n    if (resolverRef.current) resolverRef.current(true);\n    resolverRef.current = null;\n    isConfirmRef.current = false;\n  }, []);\n\n  const onCancel = useCallback(() => {\n    setOpen(false);\n    if (resolverRef.current) resolverRef.current(false);\n    resolverRef.current = null;\n    isConfirmRef.current = false;\n  }, []);\n\n  const value = useMemo<ModalContextValue>(() => ({ open: openModal, close, confirm }), [openModal, close, confirm]);\n\n  return (\n    <ModalContext.Provider value={value}>\n      {children}\n\n      <Dialog\n        open={open}\n        onClose={handleRequestClose}\n        fullWidth\n        maxWidth='sm'\n        {...opts.dialogProps}\n      >\n        {opts.title && <DialogTitle>{opts.title}</DialogTitle>}\n        {opts.content && <DialogContent dividers>{opts.content}</DialogContent>}\n\n        <DialogActions sx={{ px: 3, py: 2 }}>\n          {opts.actions ? (\n            opts.actions\n          ) : isConfirmRef.current ? (\n            <>\n              <Button onClick={onCancel} color='inherit' variant='text'>Cancel</Button>\n              <Button onClick={onConfirm} variant='contained'>Confirm</Button>\n            </>\n          ) : (\n            <Button onClick={close} variant='contained'>OK</Button>\n          )}\n        </DialogActions>\n      </Dialog>\n    </ModalContext.Provider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/forms/NetworkForm.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { Button, FormControl, FormHelperText, InputLabel, MenuItem, Select as MuiSelect, Stack } from '@mui/material';\nimport { Formik, Form, useField } from 'formik';\nimport * as Yup from 'yup';\nimport { useNetwork } from '@/components/modules/networks';\nimport { NetworkType } from '@/types';\n\nconst schema = Yup.object({\n  network: Yup.string().required('Network is required'),\n  subnetwork: Yup.string().required('Subnetwork is required'),\n});\n\nfunction NetworkInput() {\n  const { networksByName } = useNetwork();\n  const [field, meta, helpers] = useField('network');\n\n  const options = useMemo(() => Object.keys(networksByName) .map(networkKey => (\n    <MenuItem key={ networkKey } value={ networkKey }>\n      { networkKey }\n    </MenuItem>\n  )), [networksByName]);\n\n  return (\n    <FormControl fullWidth error={ meta.touched && Boolean(meta.error) } size='small'>\n      <InputLabel>Network</InputLabel>\n      <MuiSelect{ ...field } label=\"Network\" onChange={ (e) => helpers.setValue(e.target.value) }>\n        { options }\n      </MuiSelect>\n      <FormHelperText>{ meta.touched ? meta.error : `` }</FormHelperText>\n    </FormControl>\n  )\n}\n\nfunction SubnetworkInput() {\n  const { networksByName } = useNetwork();\n  const [networkField] = useField('network');\n  const [field, meta, helpers] = useField('subnetwork');\n\n  const options = useMemo(() => {\n    if (!networkField.value) {\n      return [\n        <MenuItem key=\"empty\" value={ ` ` }>\n          Select network first\n        </MenuItem>\n      ]\n    }\n\n    return networksByName[networkField.value]?.subnetworks.map(({ name, id }) => (\n      <MenuItem key={ id } value={ id }>\n        { name }\n      </MenuItem>\n    ));\n  }, [networksByName, networkField.value]);\n\n  return (\n    <FormControl fullWidth error={ meta.touched && Boolean(meta.error) } size='small'>\n      <InputLabel>Subnetwork</InputLabel>\n      <MuiSelect{ ...field } label=\"Subnetwork\" onChange={ (e) => helpers.setValue(e.target.value) }>\n        { options }\n      </MuiSelect>\n      <FormHelperText>{ meta.touched ? meta.error : `` }</FormHelperText>\n    </FormControl>\n  )\n}\n\nfunction getNetwork(networksByName?: Record<string, NetworkType>, network?: string) {\n  if (networksByName[network]) return networksByName[network];\n  const filteredNetworks = Object.values(networksByName).filter(\n    ({ name, id }) => name === network || id === network)\n  if (filteredNetworks[0]) return filteredNetworks[0];\n  return null;\n}\n\nfunction getSubnetwork(network?: NetworkType | null, subnetwork?: string) {\n  if (!network) return null;\n  if (!subnetwork) return null;\n  const filteredSubnetworks = network.subnetworks?.filter(\n    ({ name, id }) => name === subnetwork || id === subnetwork)\n  if (filteredSubnetworks?.[0]) return filteredSubnetworks[0];\n  return null;\n}\n\nfunction NetworkForm({ network, subnetwork, onSubmit }: { network?: string, subnetwork?: string }) {\n  const { networksByName } = useNetwork();\n  const initialNetwork = useMemo(() => getNetwork(networksByName, network), []);\n  const initialSubnetwork = useMemo(() => getSubnetwork(initialNetwork, subnetwork), []);\n  const initialValues = useMemo(() => ({\n    network: initialNetwork?.name?.toLowerCase() ?? '',\n    subnetwork: initialSubnetwork?.id ?? '',\n  }), [initialNetwork, initialSubnetwork]);\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={schema}\n      onSubmit={ (values, formikHelpers) => {\n        const network = getNetwork(networksByName, values.network);\n        const subnetwork = getSubnetwork(network, values.subnetwork);\n        onSubmit({ network, subnetwork, initialNetwork, initialSubnetwork }, formikHelpers)\n      }}\n    >\n      <Form id='network-form'>\n        <Stack spacing={2}>\n          <NetworkInput />\n          <SubnetworkInput />\n          <Button type='submit' variant='contained'>\n            Save\n          </Button>\n        </Stack>\n      </Form>\n    </Formik>\n  );\n}\n\nexport default NetworkForm;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/components/SubnetworkTable/UserRow.tsx"],"sourcesContent":["import React, { memo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TableCell,\n  TableRow,\n  Avatar,\n  Stack,\n  Typography,\n  Skeleton,\n  IconButton,\n} from '@mui/material';\nimport ChangeCircleIcon from '@mui/icons-material/ChangeCircle';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { useUsers } from '@/components/modules/users/context';\nimport TableActionCell from '@/components/common/TableActionCell';\nimport Tooltip from '@mui/material/Tooltip';\nimport { useModal } from '@/contexts/ModalProvider';\nimport NetworkForm from '@/components/forms/NetworkForm';\nimport { redirect } from 'next/navigation';\n\n// simple helper\nconst titleCase = (s?: string) =>\n  (s ?? '')\n    .toLowerCase()\n    .replace(/(^|\\s|_|-)+(\\w)/g, (_, __, c) => ` ${c.toUpperCase()}`)\n    .trim();\n\nconst UserRow = memo(function UserRow({ userHandle, onClick }) {\n  const { usersByHandle, isLoading } = useUsers();\n  const { open } = useModal();\n  const user = usersByHandle?.[userHandle];\n  const loading = isLoading && !user;\n\n  const fullName =\n    `${user?.name ?? ''} ${user?.surname ?? ''}`.trim() || '—';\n\n  const handle = user?.handle ?? userHandle ?? '—';\n  const type = titleCase(user?.typeActual) || '—';\n  const factionRankActual = titleCase(user?.factionRankActual) || '—';\n  const factionRankPublic = titleCase(user?.factionRankPublic) || '—';\n\n  const openMoveForm = useCallback(() => {\n    open({\n      title: 'Move to new subnetwork',\n      content: <NetworkForm network={ user.networkName } subnetwork={ user.subnetworkId } onSubmit={\n        async (values, { setSubmitting, setStatus }) => {\n          console.log(values)\n          try {\n            const res = await fetch(`/api/subnetworks/${values.subnetwork.id}/${user.id}`, {\n              method: 'PUT',\n              body: JSON.stringify({}),\n            });\n\n            if (!res.ok) {\n              const err = await res.json().catch(() => ({}));\n              throw new Error(err?.error || `Request failed (${res.status})`);\n            }\n\n            const data = await res.json();\n            setStatus({ ok: true, message: 'Updated!' });\n            // do something with data …\n          } catch (e: any) {\n            setStatus({ ok: false, message: e.message });\n          } finally {\n            setSubmitting(false);\n          }\n        }\n      } />\n    })\n  }, [user]);\n\n  return (\n    <TableRow\n      hover\n      onClick={onClick}\n      sx={{ cursor: onClick ? 'pointer' : 'default' }}\n      aria-label={`User ${handle}`}\n    >\n      {/* Handle */}\n      <TableCell width={160} sx={{ whiteSpace: 'nowrap' }}>\n        {loading ? (\n          <Skeleton variant=\"text\" width={100} />\n        ) : (\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            @{handle}\n          </Typography>\n        )}\n      </TableCell>\n\n      {/* Name + avatar */}\n      <TableCell width={260}>\n        {loading ? (\n          <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n            <Skeleton variant=\"circular\" width={28} height={28} />\n            <Skeleton variant=\"text\" width={160} />\n          </Stack>\n        ) : (\n          <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n            <Avatar sx={{ width: 28, height: 28 }}>\n              { type === 'Human' ? 'H' : type === 'Android' ? 'A' : 'AI' }\n            </Avatar>\n            <Typography\n              variant=\"body2\"\n              fontWeight={600}\n              sx={{ overflow: 'hidden', textOverflow: 'ellipsis' }}\n            >\n              {fullName}\n            </Typography>\n          </Stack>\n        )}\n      </TableCell>\n\n      <TableCell width={160}>\n        {loading ? <Skeleton variant=\"text\" width={90} /> : <Typography>{factionRankActual}</Typography>}\n      </TableCell>\n\n      <TableCell width={160}>\n        {loading ? <Skeleton variant=\"text\" width={90} /> : <Typography>{factionRankPublic}</Typography>}\n      </TableCell>\n\n      <TableActionCell>\n        <Tooltip title=\"Edit in form\">\n          <span>\n          <IconButton onClick={ () => redirect(`/users/${handle}`) } sx={{ mr: 1, }}>\n            <EditIcon />\n          </IconButton>\n          </span>\n        </Tooltip>\n        <Tooltip title=\"Move to different subnetwork / network\">\n          <span>\n          <IconButton onClick={openMoveForm}>\n            <ChangeCircleIcon />\n          </IconButton>\n          </span>\n        </Tooltip>\n      </TableActionCell>\n    </TableRow>\n  )\n    ;\n});\n\nUserRow.propTypes = {\n  userHandle: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n};\n\nexport default UserRow;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 988, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/components/SubnetworkTable/SubnetworkTable.tsx"],"sourcesContent":["'use client'\n\nimport React, { useMemo, useState } from 'react';\nimport {\n  Collapse,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Box,\n  alpha\n} from '@mui/material';\nimport { MetaBar, HeaderButton, Container, ExpandIcon } from './styles';\nimport UserRow from './UserRow';\nimport { SubnetworkType } from '@/types';\n\nfunction EmptyRow() {\n  return (\n    <TableRow>\n      <TableCell colSpan={6} align=\"center\" sx={{ py: 3, color: 'text.disabled' }}>\n        No users found\n      </TableCell>\n    </TableRow>\n  );\n}\n\nfunction SubnetworkTable({ subnetwork }: { subnetwork: SubnetworkType }) {\n  const [isOpen, setIsOpen] = useState(true);\n\n  const rows = useMemo(() => {\n    if (!subnetwork.users.length) return [<EmptyRow key=\"empty\" />];\n    return subnetwork.users.map((handle) => <UserRow key={ handle } userHandle={ handle } />);\n  }, [subnetwork?.users]);\n\n  return (\n    <Box>\n    <Container component={Paper}>\n      <HeaderButton onClick={ () => setIsOpen((v) => !v) }>\n        <Typography variant=\"h5\" fontWeight={700} sx={{ py: 0.25 }}>\n          {subnetwork.name}\n        </Typography>\n        <ExpandIcon sx={{ transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)' }} />\n      </HeaderButton>\n\n      <MetaBar direction=\"row\" spacing={3} alignItems=\"center\">\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          <strong>Access point:</strong> {subnetwork.accessPoint ?? '—'}\n        </Typography>\n\n        <FormControl size=\"small\" sx={{ minWidth: 160 }}>\n          <InputLabel id=\"fw-label\">Firewall</InputLabel>\n          <Select label=\"Firewall\" value={subnetwork?.firewall ?? ''} onChange={() => { /* no-op for now */ }} disabled>\n            <MenuItem value=\"\">None</MenuItem>\n            <MenuItem value=\"FIREWALL_X\">FIREWALL_X</MenuItem>\n            <MenuItem value=\"ENCRYPT_GUARD\">ENCRYPT_GUARD</MenuItem>\n          </Select>\n        </FormControl>\n      </MetaBar>\n\n      <Collapse in={isOpen} timeout=\"auto\">\n        <Table size=\"small\" stickyHeader>\n          <TableHead>\n            <TableRow>\n              <TableCell>Handle</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell>Sector</TableCell>\n              <TableCell>Job</TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>{rows}</TableBody>\n        </Table>\n      </Collapse>\n    </Container>\n    </Box>\n  );\n}\n\nexport default SubnetworkTable;\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AApBA;;;;;;AAuBA,SAAS;IACP,qBACE,8OAAC,uMAAA,CAAA,WAAQ;kBACP,cAAA,8OAAC,0MAAA,CAAA,YAAS;YAAC,SAAS;YAAG,OAAM;YAAS,IAAI;gBAAE,IAAI;gBAAG,OAAO;YAAgB;sBAAG;;;;;;;;;;;AAKnF;AAEA,SAAS,gBAAgB,EAAE,UAAU,EAAkC;IACrE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,MAAM,OAAO,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACnB,IAAI,CAAC,WAAW,KAAK,CAAC,MAAM,EAAE,OAAO;0BAAC,8OAAC,cAAa;;;;;SAAW;QAC/D,OAAO,WAAW,KAAK,CAAC,GAAG,CAAC,CAAC,uBAAW,8OAAC,qLAAA,CAAA,UAAO;gBAAgB,YAAa;eAAtB;;;;;IACzD,GAAG;QAAC,YAAY;KAAM;IAEtB,qBACE,8OAAC,wLAAA,CAAA,MAAG;kBACJ,cAAA,8OAAC,mLAAA,CAAA,YAAS;YAAC,WAAW,8LAAA,CAAA,QAAK;;8BACzB,8OAAC,mLAAA,CAAA,eAAY;oBAAC,SAAU,IAAM,UAAU,CAAC,IAAM,CAAC;;sCAC9C,8OAAC,6MAAA,CAAA,aAAU;4BAAC,SAAQ;4BAAK,YAAY;4BAAK,IAAI;gCAAE,IAAI;4BAAK;sCACtD,WAAW,IAAI;;;;;;sCAElB,8OAAC,mLAAA,CAAA,aAAU;4BAAC,IAAI;gCAAE,WAAW,SAAS,mBAAmB;4BAAe;;;;;;;;;;;;8BAG1E,8OAAC,mLAAA,CAAA,UAAO;oBAAC,WAAU;oBAAM,SAAS;oBAAG,YAAW;;sCAC9C,8OAAC,6MAAA,CAAA,aAAU;4BAAC,SAAQ;4BAAQ,OAAM;;8CAChC,8OAAC;8CAAO;;;;;;gCAAsB;gCAAE,WAAW,WAAW,IAAI;;;;;;;sCAG5D,8OAAC,gNAAA,CAAA,cAAW;4BAAC,MAAK;4BAAQ,IAAI;gCAAE,UAAU;4BAAI;;8CAC5C,8OAAC,6MAAA,CAAA,aAAU;oCAAC,IAAG;8CAAW;;;;;;8CAC1B,8OAAC,iMAAA,CAAA,SAAM;oCAAC,OAAM;oCAAW,OAAO,YAAY,YAAY;oCAAI,UAAU,KAA4B;oCAAG,QAAQ;;sDAC3G,8OAAC,uMAAA,CAAA,WAAQ;4CAAC,OAAM;sDAAG;;;;;;sDACnB,8OAAC,uMAAA,CAAA,WAAQ;4CAAC,OAAM;sDAAa;;;;;;sDAC7B,8OAAC,uMAAA,CAAA,WAAQ;4CAAC,OAAM;sDAAgB;;;;;;;;;;;;;;;;;;;;;;;;8BAKtC,8OAAC,uMAAA,CAAA,WAAQ;oBAAC,IAAI;oBAAQ,SAAQ;8BAC5B,cAAA,8OAAC,8LAAA,CAAA,QAAK;wBAAC,MAAK;wBAAQ,YAAY;;0CAC9B,8OAAC,0MAAA,CAAA,YAAS;0CACR,cAAA,8OAAC,uMAAA,CAAA,WAAQ;;sDACP,8OAAC,0MAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,0MAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,0MAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,0MAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,0MAAA,CAAA,YAAS;;;;;;;;;;;;;;;;0CAGd,8OAAC,0MAAA,CAAA,YAAS;0CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtB;uCAEe","debugId":null}},
    {"offset": {"line": 1264, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/components/Subnetworks.tsx"],"sourcesContent":["import React from 'react';\nimport SubnetworksTable from './SubnetworkTable/SubnetworkTable';\nimport { Stack } from '@mui/material';\nimport { NetworkType } from '@/types';\n\nfunction Subnetworks({ network, }: { network: NetworkType }) {\n  return (\n    <Stack direction=\"column\" spacing=\"20\">\n      { network.subnetworks.map(subnetwork => {\n        return (\n          <SubnetworksTable key={ subnetwork.id } subnetwork={ subnetwork } />\n        )\n      }) }\n    </Stack>\n  );\n}\n\nexport default Subnetworks;"],"names":[],"mappings":";;;;AACA;AACA;;;;AAGA,SAAS,YAAY,EAAE,OAAO,EAA6B;IACzD,qBACE,8OAAC,8LAAA,CAAA,QAAK;QAAC,WAAU;QAAS,SAAQ;kBAC9B,QAAQ,WAAW,CAAC,GAAG,CAAC,CAAA;YACxB,qBACE,8OAAC,6LAAA,CAAA,UAAgB;gBAAuB,YAAa;eAA7B,WAAW,EAAE;;;;;QAEzC;;;;;;AAGN;uCAEe","debugId":null}},
    {"offset": {"line": 1297, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/common/Collapsible.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, Typography,\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\nexport default function Collapsible({\n                                      title,\n                                      defaultExpanded = true,\n                                      secondary = false,\n                                      children,\n                                    }: {\n  title: React.ReactNode;\n  defaultExpanded?: boolean;\n  secondary?: boolean;\n  children: React.ReactNode;\n}) {\n  return (\n    <Accordion defaultExpanded={defaultExpanded} disableGutters>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography variant=\"subtitle1\" sx={{ fontWeight: 700, minWidth: 'calc(100% - 16px)' }} fontWeight>{title}</Typography>\n      </AccordionSummary>\n      <AccordionDetails>{children}</AccordionDetails>\n    </Accordion>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAGA;AALA;;;;AAOe,SAAS,YAAY,EACE,KAAK,EACL,kBAAkB,IAAI,EACtB,YAAY,KAAK,EACjB,QAAQ,EAM7C;IACC,qBACE,8OAAC,0MAAA,CAAA,YAAS;QAAC,iBAAiB;QAAiB,cAAc;;0BACzD,8OAAC,+NAAA,CAAA,mBAAgB;gBAAC,0BAAY,8OAAC,+JAAA,CAAA,UAAc;;;;;0BAC3C,cAAA,8OAAC,6MAAA,CAAA,aAAU;oBAAC,SAAQ;oBAAY,IAAI;wBAAE,YAAY;wBAAK,UAAU;oBAAoB;oBAAG,UAAU;8BAAE;;;;;;;;;;;0BAEtG,8OAAC,+NAAA,CAAA,mBAAgB;0BAAE;;;;;;;;;;;;AAGzB","debugId":null}},
    {"offset": {"line": 1357, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/configs/Overview.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react';\nimport Collapsible from '@/components/common/Collapsible';\nimport { List, ListItem, ListItemText, Switch, Typography } from '@mui/material';\nimport { NetworkContextType } from '@/components/modules/networks/context';\n\nfunction Overview({ network }: { network: NetworkContextType }) {\n  const [offMap, setOffMap] = useState<Record<string, boolean>>({});\n\n  const handleToggle = (id: string, checked: boolean) => {\n    setOffMap((s) => ({ ...s, [id]: !checked }));\n    console.log('Subnetwork toggled:', { id, checked });\n  };\n\n  return (\n    <Collapsible title={ network.name }>\n      { network?.subnetworks.length === 0 ? (\n        <Typography variant=\"body2\" color=\"text.secondary\">No subnetworks found.</Typography>\n      ) : (\n        <List dense disablePadding>\n          { network?.subnetworks.map((subnetwork) => {\n            const checked = !offMap[subnetwork.id];\n\n            return (\n              <ListItem\n                key={ subnetwork.id }\n                disableGutters\n                secondaryAction={\n                  <Switch\n                    edge=\"end\"\n                    size=\"small\"\n                    checked={checked}\n                    onChange={(e) => handleToggle(subnetwork.id, e.target.checked)}\n                  />\n                }\n                sx={{ px: 1 }}\n              >\n                <ListItemText primary={ subnetwork.name } />\n              </ListItem>\n            );\n          }) }\n        </List>\n      )}\n    </Collapsible>\n  );\n}\n\nexport default Overview;"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAOA,SAAS,SAAS,EAAE,OAAO,EAAmC;IAC5D,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA2B,CAAC;IAE/D,MAAM,eAAe,CAAC,IAAY;QAChC,UAAU,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,CAAC,GAAG,EAAE,CAAC;YAAQ,CAAC;QAC1C,QAAQ,GAAG,CAAC,uBAAuB;YAAE;YAAI;QAAQ;IACnD;IAEA,qBACE,8OAAC,2IAAA,CAAA,UAAW;QAAC,OAAQ,QAAQ,IAAI;kBAC7B,SAAS,YAAY,WAAW,kBAChC,8OAAC,6MAAA,CAAA,aAAU;YAAC,SAAQ;YAAQ,OAAM;sBAAiB;;;;;iCAEnD,8OAAC,2LAAA,CAAA,OAAI;YAAC,KAAK;YAAC,cAAc;sBACtB,SAAS,YAAY,IAAI,CAAC;gBAC1B,MAAM,UAAU,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;gBAEtC,qBACE,8OAAC,uMAAA,CAAA,WAAQ;oBAEP,cAAc;oBACd,+BACE,8OAAC,iMAAA,CAAA,SAAM;wBACL,MAAK;wBACL,MAAK;wBACL,SAAS;wBACT,UAAU,CAAC,IAAM,aAAa,WAAW,EAAE,EAAE,EAAE,MAAM,CAAC,OAAO;;;;;;oBAGjE,IAAI;wBAAE,IAAI;oBAAE;8BAEZ,cAAA,8OAAC,mNAAA,CAAA,eAAY;wBAAC,SAAU,WAAW,IAAI;;;;;;mBAZjC,WAAW,EAAE;;;;;YAezB;;;;;;;;;;;AAKV;uCAEe","debugId":null}},
    {"offset": {"line": 1444, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/networks/index.ts"],"sourcesContent":["import NetworkContextProvider from './context/provider';\nimport { useNetwork } from './context';\nimport { NETWORKS, NetworkNameTypes } from './networks';\nimport Subnetworks from './components/Subnetworks';\nimport Overview from './configs/Overview';\n\nexport { NetworkContextProvider, useNetwork, NETWORKS, Subnetworks, Overview, NetworkNameTypes }"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 1471, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/controller/components/FetchStatuses/FetchStatuses.tsx"],"sourcesContent":["import React from 'react';\nimport { Stack, } from '@mui/material';\nimport Dot from '@/components/common/Dot/Dot';\nimport { useUsers } from '@/components/modules/users/context';\nimport { useNetwork } from '@/components/modules/networks';\n\nfunction FetchStatuses() {\n  const { isLoading: usersLoading, } = useUsers();\n  const { isLoading: networksLoading } = useNetwork();\n\n  return (\n    <Stack direction=\"row\" alignItems=\"center\" sx={{ gap: 1, position: 'absolute', bottom: '12px' }}>\n      <Dot tooltip=\"Users\" variant={ usersLoading ? 'error' : 'ok' } />\n      <Dot tooltip=\"Networks\" variant={ networksLoading ? 'error' : 'ok' } />\n    </Stack>\n  )\n}\n\nexport default FetchStatuses;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAAA;;;;;;AAEA,SAAS;IACP,MAAM,EAAE,WAAW,YAAY,EAAG,GAAG,CAAA,GAAA,0JAAA,CAAA,WAAQ,AAAD;IAC5C,MAAM,EAAE,WAAW,eAAe,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD;IAEhD,qBACE,8OAAC,8LAAA,CAAA,QAAK;QAAC,WAAU;QAAM,YAAW;QAAS,IAAI;YAAE,KAAK;YAAG,UAAU;YAAY,QAAQ;QAAO;;0BAC5F,8OAAC,0IAAA,CAAA,UAAG;gBAAC,SAAQ;gBAAQ,SAAU,eAAe,UAAU;;;;;;0BACxD,8OAAC,0IAAA,CAAA,UAAG;gBAAC,SAAQ;gBAAW,SAAU,kBAAkB,UAAU;;;;;;;;;;;;AAGpE;uCAEe","debugId":null}},
    {"offset": {"line": 1525, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/controller/context/index.tsx"],"sourcesContent":["'use client';\nimport React, { createContext, useContext } from 'react';\n\nexport interface ControllersContextType {\n  statuses: Record<string, boolean>;\n  setStatuses: React.Dispatch<React.SetStateAction<Record<string, boolean>>>;\n  appMode: 'full' | 'police' | 'doc' | '';\n  setAppMode: (m: 'full' | 'police' | 'doc') => void;\n}\n\nexport const initialControllersContext: ControllersContextType = {\n  statuses: {\n    users: false,\n  },\n  setStatuses: () => {},\n  // appMode: '',\n  setAppMode: () => {},\n};\n\nexport const ControllersContext = createContext<ControllersContextType>(initialControllersContext);\n\nexport function useControllers() {\n  const context = useContext(ControllersContext);\n  if (!context) throw new Error('useControllers must be used within ControllersContextProvider');\n  return context;\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;AAUO,MAAM,4BAAoD;IAC/D,UAAU;QACR,OAAO;IACT;IACA,aAAa,KAAO;IACpB,eAAe;IACf,YAAY,KAAO;AACrB;AAEO,MAAM,mCAAqB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA0B;AAEjE,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1551, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/controller/context/provider.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useState, useEffect, ReactNode } from 'react';\nimport { ControllersContextType, initialControllersContext, ControllersContext } from './';\nimport AdminModal from '@/components/modules/controller/components/AdminModal';\n\ntype AppMode = 'full' | 'police' | 'doc';\n\nexport const APP_MODE_KEY = 'appMode';\n\nfunction defaultModeFromHost(hostname: string): AppMode {\n  const h = hostname.toLowerCase();\n  if (h.includes('police')) return 'police';\n  if (h.includes('doc')) return 'doc';\n  return 'full';\n}\n\nexport default function ControllersContextProvider({ children }: { children: ReactNode }) {\n  // existing state\n  const [statuses, setStatuses] =\n    useState<ControllersContextType['statuses']>(initialControllersContext.statuses);\n\n  // --- appMode state with localStorage + hostname fallback ---\n  const [appMode, setAppModeState] = useState<AppMode>(() => {\n    // First render may be SSR; guard window\n    if (typeof window === 'undefined') return 'full';\n    const stored = window.localStorage.getItem(APP_MODE_KEY) as AppMode | null;\n    return stored ?? defaultModeFromHost(window.location.hostname);\n  });\n\n  // keep storage in sync when appMode changes\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(APP_MODE_KEY, appMode);\n    } catch {\n      // ignore storage errors (private mode, quotas, etc.)\n    }\n  }, [appMode]);\n\n  // provide a stable setter that also persists immediately\n  const setAppMode = (mode: AppMode) => setAppModeState(mode);\n\n  // ---- context value ----\n  const context: ControllersContextType = useMemo(\n    () => ({\n      statuses,\n      setStatuses,         // expose if your context supports mutating statuses\n      appMode,             // <- NEW\n      setAppMode,          // <- NEW\n    }),\n    [statuses, appMode],\n  );\n\n  return (\n    <ControllersContext.Provider value={context}>\n      {children}\n    </ControllersContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAQO,MAAM,eAAe;AAE5B,SAAS,oBAAoB,QAAgB;IAC3C,MAAM,IAAI,SAAS,WAAW;IAC9B,IAAI,EAAE,QAAQ,CAAC,WAAW,OAAO;IACjC,IAAI,EAAE,QAAQ,CAAC,QAAQ,OAAO;IAC9B,OAAO;AACT;AAEe,SAAS,2BAA2B,EAAE,QAAQ,EAA2B;IACtF,iBAAiB;IACjB,MAAM,CAAC,UAAU,YAAY,GAC3B,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAsC,+JAAA,CAAA,4BAAyB,CAAC,QAAQ;IAEjF,8DAA8D;IAC9D,MAAM,CAAC,SAAS,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;QACnD,wCAAwC;QACxC,wCAAmC,OAAO;;;QAC1C,MAAM;IAER;IAEA,4CAA4C;IAC5C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI;YACF,OAAO,YAAY,CAAC,OAAO,CAAC,cAAc;QAC5C,EAAE,OAAM;QACN,qDAAqD;QACvD;IACF,GAAG;QAAC;KAAQ;IAEZ,yDAAyD;IACzD,MAAM,aAAa,CAAC,OAAkB,gBAAgB;IAEtD,0BAA0B;IAC1B,MAAM,UAAkC,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAC5C,IAAM,CAAC;YACL;YACA;YACA;YACA;QACF,CAAC,GACD;QAAC;QAAU;KAAQ;IAGrB,qBACE,8OAAC,+JAAA,CAAA,qBAAkB,CAAC,QAAQ;QAAC,OAAO;kBACjC;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 1615, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/controller/index.ts"],"sourcesContent":["import FetchStatuses from './components/FetchStatuses/FetchStatuses';\nimport { useControllers } from './context';\nimport ControllersContextProvider from './context/provider';\n\nexport { FetchStatuses, ControllersContextProvider, useControllers };"],"names":[],"mappings":";AAAA;AACA;AACA","debugId":null}},
    {"offset": {"line": 1644, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/app/%28app%29/components/modesConfig.tsx"],"sourcesContent":["// modesConfig.tsx\nimport React from \"react\";\nimport DesignServicesIcon from \"@mui/icons-material/DesignServices\"; // Creator – tools / building\nimport MovieFilterIcon from \"@mui/icons-material/MovieFilter\";      // Director – running the game\nimport SportsEsportsIcon from \"@mui/icons-material/SportsEsports\";  // Player – playing\n\nexport const MODES = [\n    {\n        key: \"creator\",\n        path: \"/creator\",\n        label: \"Creator\",\n        description: \"Tools for building and configuring the game before play.\",\n        icon: <DesignServicesIcon />,\n    },\n    {\n        key: \"director\",\n        path: \"/director\",\n        label: \"Director\",\n        description: \"Controls and dashboards for running the game live.\",\n        icon: <MovieFilterIcon />,\n    },\n    {\n        key: \"player\",\n        path: \"/player\",\n        label: \"Player\",\n        description: \"Interface for players during the game.\",\n        icon: <SportsEsportsIcon />,\n    },\n] as const;\n\nexport type ModeKey = (typeof MODES)[number][\"key\"];\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;AAElB,8RAAqE,6BAA6B;AAClG,wRAAoE,8BAA8B;AAClG,4RAAoE,mBAAmB;;;;;AAEhF,MAAM,QAAQ;IACjB;QACI,KAAK;QACL,MAAM;QACN,OAAO;QACP,aAAa;QACb,oBAAM,8OAAC,mKAAA,CAAA,UAAkB;;;;;IAC7B;IACA;QACI,KAAK;QACL,MAAM;QACN,OAAO;QACP,aAAa;QACb,oBAAM,8OAAC,gKAAA,CAAA,UAAe;;;;;IAC1B;IACA;QACI,KAAK;QACL,MAAM;QACN,OAAO;QACP,aAAa;QACb,oBAAM,8OAAC,kKAAA,CAAA,UAAiB;;;;;IAC5B;CACH","debugId":null}},
    {"offset": {"line": 1695, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/app/%28app%29/components/MainNavMenu.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { Stack, IconButton, Typography, Box } from \"@mui/material\";\nimport { alpha } from \"@mui/material/styles\";\nimport { MODES } from \"./modesConfig\";\n\nexport default function NavMenu() {\n    const pathname = usePathname() || \"/\";\n    const firstSegment = pathname.split(\"/\")[1]; // \"\" | creator | director | player\n\n    return (\n        <Stack direction=\"row\" spacing={0.5}>\n            {MODES.map((mode) => {\n                const isActive = firstSegment === mode.key;\n\n                return (\n                    <IconButton\n                        key={mode.key}\n                        component={Link}\n                        href={mode.path}\n                        disableRipple\n                        aria-label={mode.description}\n                        sx={(theme) => ({\n                            // wtopione w AppBar – brak własnego „kafla”\n                            borderRadius: 0,\n                            height: \"100%\",\n                            padding: theme.spacing(0.5, 1.5),\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            gap: 0.25,\n                            textDecoration: \"none\",\n                            color: \"inherit\",\n                            backgroundColor: \"transparent\",\n                            position: \"relative\",\n                            overflow: \"visible\",\n\n                            // lekkie podświetlenie tła tylko przy hover, a nie stały box\n                            \"&:hover\": {\n                                backgroundColor: alpha(\n                                    theme.palette.background.paper,\n                                    0.08\n                                ),\n                            },\n\n                            \"&:active\": {\n                                backgroundColor: alpha(\n                                    theme.palette.background.paper,\n                                    0.14\n                                ),\n                            },\n\n                            // cyfrowy underline dla aktywnego trybu – zamiast boxa\n                            \"&::after\": isActive\n                                ? {\n                                    content: '\"\"',\n                                    position: \"absolute\",\n                                    left: \"18%\",\n                                    right: \"18%\",\n                                    bottom: 0,\n                                    height: 2,\n                                    borderRadius: 999,\n                                    backgroundImage: `linear-gradient(\n                      to right,\n                      ${alpha(theme.palette.primary.main, 0.2)},\n                      ${alpha(theme.palette.primary.main, 0.9)},\n                      ${alpha(theme.palette.primary.main, 0.2)}\n                    )`,\n                                    boxShadow: `0 0 6px ${alpha(\n                                        theme.palette.primary.main,\n                                        0.8\n                                    )}`,\n                                }\n                                : undefined,\n                        })}\n                    >\n                        <Box\n                            sx={(theme) => ({\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                \"& .MuiSvgIcon-root\": {\n                                    fontSize: 22,\n                                    color: isActive\n                                        ? theme.palette.primary.light\n                                        : alpha(theme.palette.text.secondary, 0.9),\n                                    opacity: isActive ? 1 : 0.7,\n                                    transition: \"color 0.15s ease, opacity 0.15s ease\",\n                                },\n                            })}\n                        >\n                            {mode.icon}\n                        </Box>\n\n                        <Typography\n                            variant=\"caption\"\n                            sx={(theme) => ({\n                                fontSize: 10,\n                                lineHeight: 1.2,\n                                letterSpacing: 0.08,\n                                textTransform: \"uppercase\",\n                                color: isActive\n                                    ? theme.palette.primary.light\n                                    : alpha(theme.palette.text.secondary, 0.8),\n                                whiteSpace: \"nowrap\",\n                            })}\n                        >\n                            {mode.label}\n                        </Typography>\n                    </IconButton>\n                );\n            })}\n        </Stack>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1819, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/playerApps.config.ts"],"sourcesContent":["export const PlayerAppsConfig = [\n    {\n        name: 'Police',\n        value: 'police',\n        url: '/sector/police',\n    },\n];"],"names":[],"mappings":";;;AAAO,MAAM,mBAAmB;IAC5B;QACI,MAAM;QACN,OAAO;QACP,KAAK;IACT;CACH","debugId":null}},
    {"offset": {"line": 1833, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/app/%28app%29/components/SecNavMenu.config.ts"],"sourcesContent":["import { SecNavItem, SecNavMode } from './SecNavMenu.types';\nimport { PlayerAppsConfig } from \"@/playerApps.config\";\n\nexport const SEC_NAV_ITEMS: Record<SecNavMode, SecNavItem[] | (() => SecNavItem[])> = {\n    default: [\n        { type: 'link', href: '/overview', label: 'Overview' },\n        { type: 'link', href: '/reports', label: 'Reports' },\n        {\n            type: 'group',\n            key: 'tools',\n            label: 'Tools',\n            items: [\n                { type: 'link', href: '/tools/search', label: 'Search' },\n                { type: 'link', href: '/tools/logs', label: 'Logs' },\n                { type: 'link', href: '/tools/monitoring', label: 'Monitoring' },\n            ],\n        },\n    ],\n\n    creator: [\n        { type: 'link', href: '/creator', label: 'Dashboard', strict: true, },\n        { type: 'link', href: '/creator/users', label: 'Users' },\n        { type: 'link', href: '/creator/chats', label: 'Chats' },\n        { type: 'link', href: '/creator/banking', label: 'Banking' },\n        { type: 'link', href: '/creator/gigs', label: 'Gigs' },\n        { type: 'link', href: '/creator/networks', label: 'Networks' },\n    ],\n\n    director: [\n        { type: 'link', href: '/director/live', label: 'Live Control' },\n        {\n            type: 'group',\n            key: 'session',\n            label: 'Session',\n            items: [\n                { type: 'link', href: '/director/session/queue', label: 'Queue' },\n                { type: 'link', href: '/director/session/scenes', label: 'Scenes' },\n                { type: 'link', href: '/director/session/metrics', label: 'Metrics' },\n            ],\n        },\n        {\n            type: 'group',\n            key: 'ops',\n            label: 'Operations',\n            items: [\n                { type: 'link', href: '/director/ops/alerts', label: 'Alerts' },\n                { type: 'link', href: '/director/ops/logs', label: 'Logs' },\n            ],\n        },\n    ],\n\n    player: [\n        { type: 'link', href: '/player', label: 'Configure' },\n        {\n            type: 'group', key: 'apps', label: 'Apps',\n            items: PlayerAppsConfig.map(app => ({\n                type: 'link',\n                href: app.url,\n                label: app.name,\n            })),\n        },\n    ],\n};\n\nexport function getSecNavItemsForPathname(pathname: string): SecNavItem[] {\n    const seg = pathname.split('/').filter(Boolean)[0] as SecNavMode | undefined;\n    const mode: SecNavMode = seg === 'creator' || seg === 'director' || seg === 'player' ? seg : 'default';\n    const entry = SEC_NAV_ITEMS[mode];\n    return typeof entry === 'function' ? entry() : entry;\n}\n"],"names":[],"mappings":";;;;AACA;;AAEO,MAAM,gBAAyE;IAClF,SAAS;QACL;YAAE,MAAM;YAAQ,MAAM;YAAa,OAAO;QAAW;QACrD;YAAE,MAAM;YAAQ,MAAM;YAAY,OAAO;QAAU;QACnD;YACI,MAAM;YACN,KAAK;YACL,OAAO;YACP,OAAO;gBACH;oBAAE,MAAM;oBAAQ,MAAM;oBAAiB,OAAO;gBAAS;gBACvD;oBAAE,MAAM;oBAAQ,MAAM;oBAAe,OAAO;gBAAO;gBACnD;oBAAE,MAAM;oBAAQ,MAAM;oBAAqB,OAAO;gBAAa;aAClE;QACL;KACH;IAED,SAAS;QACL;YAAE,MAAM;YAAQ,MAAM;YAAY,OAAO;YAAa,QAAQ;QAAM;QACpE;YAAE,MAAM;YAAQ,MAAM;YAAkB,OAAO;QAAQ;QACvD;YAAE,MAAM;YAAQ,MAAM;YAAkB,OAAO;QAAQ;QACvD;YAAE,MAAM;YAAQ,MAAM;YAAoB,OAAO;QAAU;QAC3D;YAAE,MAAM;YAAQ,MAAM;YAAiB,OAAO;QAAO;QACrD;YAAE,MAAM;YAAQ,MAAM;YAAqB,OAAO;QAAW;KAChE;IAED,UAAU;QACN;YAAE,MAAM;YAAQ,MAAM;YAAkB,OAAO;QAAe;QAC9D;YACI,MAAM;YACN,KAAK;YACL,OAAO;YACP,OAAO;gBACH;oBAAE,MAAM;oBAAQ,MAAM;oBAA2B,OAAO;gBAAQ;gBAChE;oBAAE,MAAM;oBAAQ,MAAM;oBAA4B,OAAO;gBAAS;gBAClE;oBAAE,MAAM;oBAAQ,MAAM;oBAA6B,OAAO;gBAAU;aACvE;QACL;QACA;YACI,MAAM;YACN,KAAK;YACL,OAAO;YACP,OAAO;gBACH;oBAAE,MAAM;oBAAQ,MAAM;oBAAwB,OAAO;gBAAS;gBAC9D;oBAAE,MAAM;oBAAQ,MAAM;oBAAsB,OAAO;gBAAO;aAC7D;QACL;KACH;IAED,QAAQ;QACJ;YAAE,MAAM;YAAQ,MAAM;YAAW,OAAO;QAAY;QACpD;YACI,MAAM;YAAS,KAAK;YAAQ,OAAO;YACnC,OAAO,2HAAA,CAAA,mBAAgB,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;oBAChC,MAAM;oBACN,MAAM,IAAI,GAAG;oBACb,OAAO,IAAI,IAAI;gBACnB,CAAC;QACL;KACH;AACL;AAEO,SAAS,0BAA0B,QAAgB;IACtD,MAAM,MAAM,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC,QAAQ,CAAC,EAAE;IAClD,MAAM,OAAmB,QAAQ,aAAa,QAAQ,cAAc,QAAQ,WAAW,MAAM;IAC7F,MAAM,QAAQ,aAAa,CAAC,KAAK;IACjC,OAAO,OAAO,UAAU,aAAa,UAAU;AACnD","debugId":null}},
    {"offset": {"line": 1981, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/app/%28app%29/components/SecNavMenu.tsx"],"sourcesContent":["// SecNavMenu.tsx\n'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n    List,\n    ListItemButton,\n    ListItemText,\n    ListItemIcon,\n    Popover,\n    Divider,\n} from '@mui/material';\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\n\nimport {\n    SecNavItem,\n    SecNavLinkItem,\n    SecNavGroupItem,\n} from './SecNavMenu.types';\nimport { getSecNavItemsForPathname } from './SecNavMenu.config';\n\nconst isLinkItem = (it: SecNavItem): it is SecNavLinkItem => it.type === 'link';\nconst isGroupItem = (it: SecNavItem): it is SecNavGroupItem => it.type === 'group';\n\n// --- path helpers ----------------------------------------------------------\n\nconst normalizePath = (path: string) => {\n    if (!path) return '/';\n    if (path === '/') return '/';\n    return path.endsWith('/') ? path.slice(0, -1) : path;\n};\n\n/**\n * Route matching:\n * - strict === true  -> only exact match\n * - strict === false -> exact match OR any subpath\n *   - with special case for \"/\" so it doesn't match everything\n */\nconst isRouteActive = (href: string, pathname: string, strict = false) => {\n    if (!href) return false;\n\n    const current = normalizePath(pathname);\n    const target = normalizePath(href);\n\n    if (strict) return current === target;\n\n    // Exact match always counts\n    if (current === target) return true;\n\n    // \"/\" should not match everything\n    if (target === '/') return current === '/';\n\n    return current.startsWith(`${target}/`);\n};\n\nconst isLinkActive = (link: SecNavLinkItem, pathname: string) =>\n    isRouteActive(link.href, pathname, Boolean(link.strict));\n\n// --- shared styles ---------------------------------------------------------\n\nconst navButtonSx = (active: boolean) => ({\n    px: 2,\n    borderRadius: '8px',\n    m: '0 8px',\n    backgroundColor: active ? 'rgba(182,255,46,.15)' : 'transparent',\n    border: active ? '1px solid var(--bio-acid)' : '1px solid transparent',\n    transition: 'all .2s ease',\n    '&:hover': {\n        backgroundColor: 'rgba(182,255,46,.08)',\n        boxShadow: '0 0 12px rgba(182,255,46,.4)',\n    },\n});\n\nconst navTextSx = (active: boolean) => ({\n    textAlign: 'center',\n    textTransform: 'uppercase',\n    letterSpacing: 1,\n    fontWeight: active ? 700 : 500,\n    color: active ? 'primary.main' : 'text.secondary',\n});\n\nconst popoverItemSx = (active: boolean, isLast: boolean) => ({\n    px: 2,\n    borderRadius: 0,\n    backgroundColor: active ? 'rgba(182,255,46,.12)' : 'transparent',\n    borderBottom: isLast ? 'none' : '1px solid rgba(255,255,255,.06)',\n    '&:hover': { backgroundColor: 'rgba(182,255,46,.08)' },\n    '& .MuiListItemText-root': {\n        textTransform: 'uppercase',\n        letterSpacing: 1,\n        fontWeight: active ? 700 : 500,\n        color: active ? 'primary.main' : 'text.secondary',\n    },\n});\n\n// --------------------------------------------------------------------------\n\nexport default function SecNavMenu() {\n    const pathname = usePathname() || '/';\n\n    const items = React.useMemo(\n        () => getSecNavItemsForPathname(pathname),\n        [pathname],\n    );\n\n    const { directLinks, groups, order } = React.useMemo(() => {\n        const direct: SecNavLinkItem[] = [];\n        const map = new Map<string, SecNavGroupItem>();\n        const ord: string[] = [];\n\n        for (const it of items) {\n            if (isLinkItem(it)) {\n                direct.push(it);\n            } else if (isGroupItem(it)) {\n                map.set(it.key, it);\n                ord.push(it.key);\n            }\n        }\n\n        return { directLinks: direct, groups: map, order: ord };\n    }, [items]);\n\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n    const [openKey, setOpenKey] = React.useState<string | null>(null);\n    const isOpen = Boolean(anchorEl) && Boolean(openKey);\n\n    const handleToggleMenu = (key: string, el: HTMLElement) => {\n        if (isOpen && openKey === key) {\n            setAnchorEl(null);\n            setOpenKey(null);\n            return;\n        }\n        setAnchorEl(el);\n        setOpenKey(key);\n    };\n\n    const handleCloseMenu = () => {\n        setAnchorEl(null);\n        setOpenKey(null);\n    };\n\n    // Close on route change\n    React.useEffect(() => {\n        handleCloseMenu();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [pathname]);\n\n    return (\n        <>\n            <List\n                component=\"nav\"\n                dense\n                sx={{ display: 'flex', flexDirection: 'row', p: 0 }}\n            >\n                {directLinks.map((it) => {\n                    const active = isLinkActive(it, pathname);\n\n                    return (\n                        <ListItemButton\n                            key={it.href}\n                            dense\n                            component={Link as any}\n                            href={it.href}\n                            selected={active}\n                            sx={navButtonSx(active)}\n                        >\n                            <ListItemText\n                                primary={it.label}\n                                sx={navTextSx(active)}\n                            />\n                        </ListItemButton>\n                    );\n                })}\n\n                {order.map((key) => {\n                    const grp = groups.get(key)!;\n                    const active = grp.items.some((it) =>\n                        isLinkActive(it, pathname),\n                    );\n\n                    return (\n                        <ListItemButton\n                            key={`grp-${key}`}\n                            dense\n                            aria-haspopup=\"true\"\n                            aria-expanded={\n                                isOpen && openKey === key ? 'true' : undefined\n                            }\n                            selected={active}\n                            onClick={(e) =>\n                                handleToggleMenu(key, e.currentTarget)\n                            }\n                            sx={navButtonSx(active)}\n                        >\n                            <ListItemText\n                                primary={grp.label}\n                                sx={navTextSx(active)}\n                            />\n                            <ListItemIcon sx={{ minWidth: 24 }}>\n                                <ArrowDropDownIcon />\n                            </ListItemIcon>\n                        </ListItemButton>\n                    );\n                })}\n            </List>\n\n            <Popover\n                open={isOpen}\n                anchorEl={anchorEl}\n                onClose={handleCloseMenu}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n                PaperProps={{ sx: { mt: 1, borderRadius: 1 } }}\n                keepMounted\n                disableRestoreFocus\n                disableScrollLock\n            >\n                <List dense sx={{ minWidth: 220, p: 0 }}>\n                    {(openKey ? groups.get(openKey)?.items ?? [] : []).map(\n                        (it, idx, arr) => {\n                            const isLast = idx === arr.length - 1;\n                            const active = isLinkActive(it, pathname);\n\n                            return (\n                                <React.Fragment key={it.href}>\n                                    <ListItemButton\n                                        dense\n                                        component={Link as any}\n                                        href={it.href}\n                                        selected={active}\n                                        sx={popoverItemSx(active, isLast)}\n                                        onClick={handleCloseMenu}\n                                    >\n                                        <ListItemText primary={it.label} />\n                                    </ListItemButton>\n                                    {!isLast && <Divider component=\"li\" />}\n                                </React.Fragment>\n                            );\n                        },\n                    )}\n                </List>\n            </Popover>\n        </>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2274, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/app/%28app%29/components/NavBridge.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Box } from \"@mui/material\";\nimport { alpha } from \"@mui/material/styles\";\n\n/**\n * NavBridge wraps SecNavMenu and renders:\n *\n *  ---------[  children  ]-\n *\n * Left rail fills remaining space, right rail is short.\n * The dashes do NOT go behind the buttons.\n */\nexport default function NavBridge({ children }: { children: React.ReactNode }) {\n    return (\n        <Box\n            sx={(theme) => {\n                const acid = `var(--bio-acid, ${theme.palette.primary.main})`;\n                const glow = alpha(theme.palette.primary.main, 0.45);\n\n                return {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    // This is crucial: makes the bridge fill available space\n                    flex: 1,\n                    minWidth: 80,\n                    mx: 1,\n\n                    // LEFT RAIL – takes all remaining width\n                    \"& .rail-left\": {\n                        flex: 1,\n                        height: 2,\n                        backgroundImage: `repeating-linear-gradient(\n              90deg,\n              ${acid} 0 14px,\n              transparent 14px 20px\n            )`,\n                        opacity: 0.85,\n                        filter: `drop-shadow(0 0 4px ${glow})`,\n                    },\n\n                    // RIGHT RAIL – short tail after capsule\n                    \"& .rail-right\": {\n                        width: 32,\n                        height: 2,\n                        backgroundImage: `repeating-linear-gradient(\n              90deg,\n              ${acid} 0 14px,\n              transparent 14px 20px\n            )`,\n                        opacity: 0.85,\n                        filter: `drop-shadow(0 0 4px ${glow})`,\n                    },\n\n                    // CAPSULE AROUND SecNavMenu (no dashes behind it)\n                    \"& .capsule\": {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        mx: 0.75,\n                        position: \"relative\",\n                    },\n\n                    \"& .capsule-left\": {\n                        width: 10,\n                        height: \"50px\",\n                        marginRight: '-14px',\n                        alignSelf: \"center\",\n                        borderLeft: `2px solid ${acid}`,\n                        borderTop: `2px solid ${acid}`,\n                        borderBottom: `2px solid ${acid}`,\n                        borderRadius: \"4px 0 0 4px\",\n                        filter: `drop-shadow(0 0 4px ${glow})`,\n                    },\n\n                    \"& .capsule-right\": {\n                        width: 10,\n                        height: \"50px\",\n                        marginLeft: '-14px',\n                        alignSelf: \"center\",\n                        borderRight: `2px solid ${acid}`,\n                        borderTop: `2px solid ${acid}`,\n                        borderBottom: `2px solid ${acid}`,\n                        borderRadius: \"0 4px 4px 0\",\n                        filter: `drop-shadow(0 0 4px ${glow})`,\n                    },\n\n                    \"& .capsule-content\": {\n                        // children (SecNavMenu) stay fully interactive\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        px: 0.75,\n                    },\n\n                    // very subtle scanlines inside the bridge zone only\n                    \"& .scanlines\": {\n                        position: \"absolute\",\n                        inset: 0,\n                        pointerEvents: \"none\",\n                        backgroundImage: `repeating-linear-gradient(\n              to bottom,\n              transparent 0px,\n              transparent 6px,\n              ${alpha(theme.palette.primary.main, 0.04)} 7px\n            )`,\n                        opacity: 0.5,\n                        mixBlendMode: \"soft-light\",\n                    },\n                };\n            }}\n        >\n            {/* LEFT rail fills space between MainNav and capsule */}\n            <Box className=\"rail-left\" />\n\n            {/* Capsule with SecNavMenu inside */}\n            <Box className=\"capsule\">\n                <Box className=\"capsule-left\" />\n                <Box className=\"capsule-content\">{children}</Box>\n                <Box className=\"capsule-right\" />\n            </Box>\n\n            {/* Short right rail */}\n            <Box className=\"rail-right\" />\n        </Box>\n    );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAce,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACzE,qBACI,8OAAC,wLAAA,CAAA,MAAG;QACA,IAAI,CAAC;YACD,MAAM,OAAO,CAAC,gBAAgB,EAAE,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YAC7D,MAAM,OAAO,CAAA,GAAA,8KAAA,CAAA,QAAK,AAAD,EAAE,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;YAE/C,OAAO;gBACH,SAAS;gBACT,YAAY;gBACZ,yDAAyD;gBACzD,MAAM;gBACN,UAAU;gBACV,IAAI;gBAEJ,wCAAwC;gBACxC,gBAAgB;oBACZ,MAAM;oBACN,QAAQ;oBACR,iBAAiB,CAAC;;cAE5B,EAAE,KAAK;;aAER,CAAC;oBACU,SAAS;oBACT,QAAQ,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;gBAC1C;gBAEA,wCAAwC;gBACxC,iBAAiB;oBACb,OAAO;oBACP,QAAQ;oBACR,iBAAiB,CAAC;;cAE5B,EAAE,KAAK;;aAER,CAAC;oBACU,SAAS;oBACT,QAAQ,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;gBAC1C;gBAEA,kDAAkD;gBAClD,cAAc;oBACV,SAAS;oBACT,YAAY;oBACZ,IAAI;oBACJ,UAAU;gBACd;gBAEA,mBAAmB;oBACf,OAAO;oBACP,QAAQ;oBACR,aAAa;oBACb,WAAW;oBACX,YAAY,CAAC,UAAU,EAAE,MAAM;oBAC/B,WAAW,CAAC,UAAU,EAAE,MAAM;oBAC9B,cAAc,CAAC,UAAU,EAAE,MAAM;oBACjC,cAAc;oBACd,QAAQ,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;gBAC1C;gBAEA,oBAAoB;oBAChB,OAAO;oBACP,QAAQ;oBACR,YAAY;oBACZ,WAAW;oBACX,aAAa,CAAC,UAAU,EAAE,MAAM;oBAChC,WAAW,CAAC,UAAU,EAAE,MAAM;oBAC9B,cAAc,CAAC,UAAU,EAAE,MAAM;oBACjC,cAAc;oBACd,QAAQ,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;gBAC1C;gBAEA,sBAAsB;oBAClB,+CAA+C;oBAC/C,SAAS;oBACT,YAAY;oBACZ,IAAI;gBACR;gBAEA,oDAAoD;gBACpD,gBAAgB;oBACZ,UAAU;oBACV,OAAO;oBACP,eAAe;oBACf,iBAAiB,CAAC;;;;cAI5B,EAAE,CAAA,GAAA,8KAAA,CAAA,QAAK,AAAD,EAAE,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM;aAC3C,CAAC;oBACU,SAAS;oBACT,cAAc;gBAClB;YACJ;QACJ;;0BAGA,8OAAC,wLAAA,CAAA,MAAG;gBAAC,WAAU;;;;;;0BAGf,8OAAC,wLAAA,CAAA,MAAG;gBAAC,WAAU;;kCACX,8OAAC,wLAAA,CAAA,MAAG;wBAAC,WAAU;;;;;;kCACf,8OAAC,wLAAA,CAAA,MAAG;wBAAC,WAAU;kCAAmB;;;;;;kCAClC,8OAAC,wLAAA,CAAA,MAAG;wBAAC,WAAU;;;;;;;;;;;;0BAInB,8OAAC,wLAAA,CAAA,MAAG;gBAAC,WAAU;;;;;;;;;;;;AAG3B","debugId":null}},
    {"offset": {"line": 2428, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/app/%28app%29/components/AppHeader.tsx"],"sourcesContent":["'use client'\n\nimport AppBar from '@mui/material/AppBar'\nimport Toolbar from '@mui/material/Toolbar'\nimport Typography from '@mui/material/Typography'\nimport Button from '@mui/material/Button'\nimport Avatar from '@mui/material/Avatar'\nimport Box from '@mui/material/Box'\nimport Stack from '@mui/material/Stack'\nimport Link from 'next/link'\nimport { signOutAction } from '@/actions/auth'\nimport { FetchStatuses } from '@/components/modules/controller'\nimport MainNavMenu from \"./MainNavMenu\";\nimport SecNavMenu from \"./SecNavMenu\";\nimport NavBridge from \"./NavBridge\";\n\ninterface User {\n    name?: string | null\n    email?: string | null\n    image?: string | null\n    handle?: string | null\n}\n\nexport default function AppHeader({ user }: { user: User | null }) {\n\n    return (\n        <AppBar position=\"fixed\">\n            <Toolbar sx={{ gap: 2 }}>\n                <Stack direction=\"row\" sx={{ gap: 3 }}>\n                    <Typography\n                        variant=\"h6\"\n                        className=\"glitch\"\n                        data-glitch=\"EPSILON\"\n                        sx={{ flexGrow: 1, letterSpacing: 1.5, mt: '-12px' }}\n                    >\n                        EPSILON\n                    </Typography>\n                    <FetchStatuses />\n                </Stack>\n                <MainNavMenu value={0} />\n                <NavBridge>\n                    <SecNavMenu />\n                </NavBridge>\n                <ProfileSection user={user} />\n            </Toolbar>\n        </AppBar>\n    )\n}\n\nfunction ProfileSection({ user }: { user: User | null }) {\n    if (user) {\n        return <ProfileAvatar user={user} />\n    }\n\n    return (\n        <Link href=\"/login\">\n            <Button color=\"primary\">\n                Sign in\n            </Button>\n        </Link>\n    )\n}\n\nfunction signOutAndRedirect() {\n    signOutAction('/login')\n        .then(() => {\n            console.log('logout successful');\n        })\n        .catch((e) => {\n            console.error(e);\n        });\n}\n\nfunction ProfileAvatar({ user }: { user: User }) {\n    return (\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1.25 }}>\n            <Avatar\n                src={user.image ?? undefined}\n                alt={user.handle ?? user.name ?? ''}\n                sx={{ width: 32, height: 32 }}\n            />\n\n            <Typography variant=\"body2\">\n                {user.handle ?? user.name}\n            </Typography>\n\n            <Button onClick={signOutAndRedirect} color=\"secondary\">\n                Sign out\n            </Button>\n        </Box>\n    )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;;;AAuBe,SAAS,UAAU,EAAE,IAAI,EAAyB;IAE7D,qBACI,8OAAC,4JAAA,CAAA,UAAM;QAAC,UAAS;kBACb,cAAA,8OAAC,8JAAA,CAAA,UAAO;YAAC,IAAI;gBAAE,KAAK;YAAE;;8BAClB,8OAAC,0JAAA,CAAA,UAAK;oBAAC,WAAU;oBAAM,IAAI;wBAAE,KAAK;oBAAE;;sCAChC,8OAAC,oKAAA,CAAA,UAAU;4BACP,SAAQ;4BACR,WAAU;4BACV,eAAY;4BACZ,IAAI;gCAAE,UAAU;gCAAG,eAAe;gCAAK,IAAI;4BAAQ;sCACtD;;;;;;sCAGD,8OAAC,uOAAA,CAAA,gBAAa;;;;;;;;;;;8BAElB,8OAAC,mJAAA,CAAA,UAAW;oBAAC,OAAO;;;;;;8BACpB,8OAAC,iJAAA,CAAA,UAAS;8BACN,cAAA,8OAAC,kJAAA,CAAA,UAAU;;;;;;;;;;8BAEf,8OAAC;oBAAe,MAAM;;;;;;;;;;;;;;;;;AAItC;AAEA,SAAS,eAAe,EAAE,IAAI,EAAyB;IACnD,IAAI,MAAM;QACN,qBAAO,8OAAC;YAAc,MAAM;;;;;;IAChC;IAEA,qBACI,8OAAC,4JAAA,CAAA,UAAI;QAAC,MAAK;kBACP,cAAA,8OAAC,4JAAA,CAAA,UAAM;YAAC,OAAM;sBAAU;;;;;;;;;;;AAKpC;AAEA,SAAS;IACL,CAAA,GAAA,sJAAA,CAAA,gBAAa,AAAD,EAAE,UACT,IAAI,CAAC;QACF,QAAQ,GAAG,CAAC;IAChB,GACC,KAAK,CAAC,CAAC;QACJ,QAAQ,KAAK,CAAC;IAClB;AACR;AAEA,SAAS,cAAc,EAAE,IAAI,EAAkB;IAC3C,qBACI,8OAAC,sJAAA,CAAA,UAAG;QAAC,IAAI;YAAE,SAAS;YAAQ,YAAY;YAAU,KAAK;QAAK;;0BACxD,8OAAC,4JAAA,CAAA,UAAM;gBACH,KAAK,KAAK,KAAK,IAAI;gBACnB,KAAK,KAAK,MAAM,IAAI,KAAK,IAAI,IAAI;gBACjC,IAAI;oBAAE,OAAO;oBAAI,QAAQ;gBAAG;;;;;;0BAGhC,8OAAC,oKAAA,CAAA,UAAU;gBAAC,SAAQ;0BACf,KAAK,MAAM,IAAI,KAAK,IAAI;;;;;;0BAG7B,8OAAC,4JAAA,CAAA,UAAM;gBAAC,SAAS;gBAAoB,OAAM;0BAAY;;;;;;;;;;;;AAKnE","debugId":null}},
    {"offset": {"line": 2619, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/conversations/context/schema.ts"],"sourcesContent":["import * as Yup from 'yup';\nimport dayjs from 'dayjs';\n\nexport const EnhancedMessageSchema = Yup.object({\n  id: Yup.mixed().required(),\n  sender: Yup.string().default(''),\n  text: Yup.string().default(''),\n  date: Yup.string().nullable().test('iso-or-null', 'Invalid date', (v) => !v || dayjs(v).isValid()),\n  note: Yup.string().default(''),\n  hacker: Yup.string().default(''),\n});\n\nexport const EnhancedConversationSchema = Yup.object({\n  id: Yup.mixed().required(),\n  title: Yup.string().default('').required('Title is required').trim(),\n  participants: Yup.array(Yup.string().trim().min(1)).default([]).min(2),\n  messages: Yup.array(EnhancedMessageSchema).default([]),\n  /** META */\n  hackers: Yup.array(Yup.string().trim().min(1)).default([]),\n  tags: Yup.array(Yup.string().trim().min(1)).default([]),\n});"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,wBAAwB,mIAAA,CAAA,SAAU,CAAC;IAC9C,IAAI,mIAAA,CAAA,QAAS,GAAG,QAAQ;IACxB,QAAQ,mIAAA,CAAA,SAAU,GAAG,OAAO,CAAC;IAC7B,MAAM,mIAAA,CAAA,SAAU,GAAG,OAAO,CAAC;IAC3B,MAAM,mIAAA,CAAA,SAAU,GAAG,QAAQ,GAAG,IAAI,CAAC,eAAe,gBAAgB,CAAC,IAAM,CAAC,KAAK,CAAA,GAAA,qIAAA,CAAA,UAAK,AAAD,EAAE,GAAG,OAAO;IAC/F,MAAM,mIAAA,CAAA,SAAU,GAAG,OAAO,CAAC;IAC3B,QAAQ,mIAAA,CAAA,SAAU,GAAG,OAAO,CAAC;AAC/B;AAEO,MAAM,6BAA6B,mIAAA,CAAA,SAAU,CAAC;IACnD,IAAI,mIAAA,CAAA,QAAS,GAAG,QAAQ;IACxB,OAAO,mIAAA,CAAA,SAAU,GAAG,OAAO,CAAC,IAAI,QAAQ,CAAC,qBAAqB,IAAI;IAClE,cAAc,mIAAA,CAAA,QAAS,CAAC,mIAAA,CAAA,SAAU,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,OAAO,CAAC,EAAE,EAAE,GAAG,CAAC;IACpE,UAAU,mIAAA,CAAA,QAAS,CAAC,uBAAuB,OAAO,CAAC,EAAE;IACrD,SAAS,GACT,SAAS,mIAAA,CAAA,QAAS,CAAC,mIAAA,CAAA,SAAU,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,OAAO,CAAC,EAAE;IACzD,MAAM,mIAAA,CAAA,QAAS,CAAC,mIAAA,CAAA,SAAU,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,OAAO,CAAC,EAAE;AACxD","debugId":null}},
    {"offset": {"line": 2647, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/conversations/context/form.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Formik, FormikProps } from 'formik';\nimport { EnhancedConversationSchema } from './schema';\nimport { EnhancedConversationType } from '@/types';\n\nexport const blankConversation: EnhancedConversationType = {\n  id: '',\n  title: '',\n  participants: [],\n  messages: [],\n  anonymizedUsers: [],\n  gigConversation: false,\n}\n\nexport default function ConversationFormProvider({ children }: { children: (formik: FormikProps<EnhancedConversationType>) => React.ReactNode }) {\n  return (\n    <Formik<EnhancedConversationType>\n      enableReinitialize\n      initialValues={ blankConversation }\n      validationSchema={ EnhancedConversationSchema }\n      onSubmit={ () => { console.log('Submit') } }\n      validateOnChange\n    >\n      { children }\n    </Formik>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAGO,MAAM,oBAA8C;IACzD,IAAI;IACJ,OAAO;IACP,cAAc,EAAE;IAChB,UAAU,EAAE;IACZ,iBAAiB,EAAE;IACnB,iBAAiB;AACnB;AAEe,SAAS,yBAAyB,EAAE,QAAQ,EAAoF;IAC7I,qBACE,8OAAC,+IAAA,CAAA,SAAM;QACL,kBAAkB;QAClB,eAAgB;QAChB,kBAAmB,kKAAA,CAAA,6BAA0B;QAC7C,UAAW;YAAQ,QAAQ,GAAG,CAAC;QAAU;QACzC,gBAAgB;kBAEd;;;;;;AAGR","debugId":null}},
    {"offset": {"line": 2685, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/conversations/context/index.tsx"],"sourcesContent":["'use client';\nimport { createContext, useContext } from 'react';\nimport type { EnhancedConversationType } from '@/types';\nimport type { StateType } from './mainContext';\n\nexport interface ConversationsContextType {\n  selected: string | null;\n  select: (chatId: (string | null)) => void;\n\n  uiMainHandle: string | null;\n  setUiMainHandle: (value: (((prevState: (string | null)) => (string | null)) | string | null)) => void;\n\n  conversationsById: StateType;\n  addConversation: (conversation: EnhancedConversationType) => void;\n  removeConversation: (chatId: (string | number)) => void;\n  newConversation: (title?: string) => void;\n}\n\nexport const ConversationsContext = createContext<ConversationsContextType | undefined>(undefined);\n\nexport function useConversations() {\n  const context = useContext(ConversationsContext);\n  if (!context) throw new Error('useConversations must be used within ConversationsContextProvider');\n  return context;\n}\n"],"names":[],"mappings":";;;;AACA;AADA;;AAkBO,MAAM,qCAAuB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAwC;AAEjF,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 2702, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/conversations/context/mainContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo, useState, useCallback, useEffect } from 'react';\nimport { useFormikContext } from 'formik';\nimport type { EnhancedConversationType } from '@/types';\nimport { ConversationsContext, ConversationsContextType, } from './';\nimport { blankConversation } from '@/components/modules/conversations/context/form';\n\nexport type StateType = Record<string | number, EnhancedConversationType>;\n\nexport default function ConversationMainProvider({ children }: { children: React.ReactNode }) {\n  const { resetForm, validateForm } = useFormikContext<EnhancedConversationType>();\n  const [conversationsById, setConversationsById] = useState<StateType>({});\n  const [selected, setSelected] = useState<string | null>(null);\n  const [uiMainHandle, setUiMainHandle] = useState<string | null>(null);\n\n  const removeConversation = useCallback((chatId: string | number) => {\n    setConversationsById((state) => {\n      const next = { ...state }; delete next[chatId]; return next;\n    });\n    setSelected((prev) => (prev === chatId ? null : prev));\n  }, []);\n\n  const addConversation = useCallback((conversation: EnhancedConversationType) => {\n    setConversationsById((prevState) => ({\n      ...prevState, [conversation.id]: conversation\n    }));\n    setSelected(conversation.id);\n  }, []);\n\n  const newConversation = useCallback((title?: string) => {\n    const conversation = blankConversation;\n    conversation.id = crypto.randomUUID();\n    if (title) conversation.title = title;\n    addConversation(conversation);\n  }, [addConversation]);\n\n  useEffect(() => {\n    if (selected && conversationsById[selected]) {\n      resetForm({ values: conversationsById[selected], });\n      validateForm();\n      setUiMainHandle(conversationsById[selected].participants[0]);\n    } else {\n      resetForm({ values: blankConversation });\n      setUiMainHandle(null);\n    }\n  }, [resetForm, validateForm, selected, conversationsById])\n\n  const context: ConversationsContextType = useMemo(\n    () => ({\n      conversationsById,\n      addConversation,\n      removeConversation,\n      newConversation,\n      uiMainHandle,\n      setUiMainHandle,\n      selected,\n      select: setSelected,\n    }),\n    [\n      conversationsById,\n      addConversation, removeConversation, newConversation,\n      uiMainHandle, selected\n    ],\n  );\n\n  return (\n    <ConversationsContext.Provider value={context}>\n      {children}\n    </ConversationsContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAUe,SAAS,yBAAyB,EAAE,QAAQ,EAAiC;IAC1F,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,mBAAgB,AAAD;IACnD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,CAAC;IACvE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACxD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhE,MAAM,qBAAqB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACtC,qBAAqB,CAAC;YACpB,MAAM,OAAO;gBAAE,GAAG,KAAK;YAAC;YAAG,OAAO,IAAI,CAAC,OAAO;YAAE,OAAO;QACzD;QACA,YAAY,CAAC,OAAU,SAAS,SAAS,OAAO;IAClD,GAAG,EAAE;IAEL,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACnC,qBAAqB,CAAC,YAAc,CAAC;gBACnC,GAAG,SAAS;gBAAE,CAAC,aAAa,EAAE,CAAC,EAAE;YACnC,CAAC;QACD,YAAY,aAAa,EAAE;IAC7B,GAAG,EAAE;IAEL,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACnC,MAAM,eAAe,iKAAA,CAAA,oBAAiB;QACtC,aAAa,EAAE,GAAG,OAAO,UAAU;QACnC,IAAI,OAAO,aAAa,KAAK,GAAG;QAChC,gBAAgB;IAClB,GAAG;QAAC;KAAgB;IAEpB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,iBAAiB,CAAC,SAAS,EAAE;YAC3C,UAAU;gBAAE,QAAQ,iBAAiB,CAAC,SAAS;YAAE;YACjD;YACA,gBAAgB,iBAAiB,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE;QAC7D,OAAO;YACL,UAAU;gBAAE,QAAQ,iKAAA,CAAA,oBAAiB;YAAC;YACtC,gBAAgB;QAClB;IACF,GAAG;QAAC;QAAW;QAAc;QAAU;KAAkB;IAEzD,MAAM,UAAoC,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAC9C,IAAM,CAAC;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA,QAAQ;QACV,CAAC,GACD;QACE;QACA;QAAiB;QAAoB;QACrC;QAAc;KACf;IAGH,qBACE,8OAAC,kKAAA,CAAA,uBAAoB,CAAC,QAAQ;QAAC,OAAO;kBACnC;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 2795, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/conversations/context/provider.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport ConversationFormProvider from '@/components/modules/conversations/context/form';\nimport ConversationMainProvider from '@/components/modules/conversations/context/mainContext';\n\nexport default function ConversationsContextProvider({ children }: { children: React.ReactNode }) {\n\n  return (\n    <ConversationFormProvider>\n      <ConversationMainProvider>\n        { children }\n      </ConversationMainProvider>\n    </ConversationFormProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAMe,SAAS,6BAA6B,EAAE,QAAQ,EAAiC;IAE9F,qBACE,8OAAC,iKAAA,CAAA,UAAwB;kBACvB,cAAA,8OAAC,wKAAA,CAAA,UAAwB;sBACrB;;;;;;;;;;;AAIV","debugId":null}},
    {"offset": {"line": 2824, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/users/context/provider.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useEffect, useState, ReactNode, useCallback, use } from 'react';\nimport { ApiUser } from '@/app/api/mappers/user';\nimport {\n  UsersByHandle,\n  UserContextType,\n  initialUserContext,\n  UserContext,\n} from './';\nimport { useParams } from 'next/navigation';\n\ninterface Props {\n  children: ReactNode;\n}\n\n/* ───────────────── helpers ───────────────── */\n\nfunction toUsersByHandle(list: ApiUser[]): UsersByHandle {\n  return list.reduce<UsersByHandle>((acc, user) => {\n    acc[user.handle] = user;\n    return acc;\n  }, {});\n}\n\nasync function fetchJSON<T>(\n  input: RequestInfo,\n  init?: RequestInit,\n  signal?: AbortSignal\n): Promise<T> {\n  const res = await fetch(input, { ...init, signal, cache: 'no-store' });\n  if (!res.ok) throw new Error(`${init?.method ?? 'GET'} ${input} failed: ${res.status}`);\n  return res.json();\n}\n\n/* ──────────────── provider ──────────────── */\n\nexport default function UserContextProvider({ children }: Props) {\n  const rawParams = useParams() as unknown;\n  const unwrappedParams =\n    typeof (rawParams as any)?.then === 'function'\n      ? use(rawParams as Promise<Record<string, string>>)\n      : (rawParams as Record<string, string> | undefined);\n  const urlHandle = unwrappedParams?.userHandle ?? null;\n\n  const [usersByHandle, setUsersByHandle] = useState<UsersByHandle>(\n    initialUserContext.usersByHandle\n  );\n\n  const [selected, setSelected] = useState<ApiUser | null>(\n    initialUserContext.selected\n  );\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  /* ─────────────── data loaders ─────────────── */\n\n  const fetchUsers = useCallback(\n    async (opts?: { signal?: AbortSignal }): Promise<ApiUser[] | null> => {\n      try {\n        setIsLoading(true);\n        const data = await fetchJSON<{ users?: ApiUser[] }>(\n          '/api/users',\n          undefined,\n          opts?.signal\n        );\n        const list = Array.isArray(data?.users) ? data.users! : [];\n        setUsersByHandle(toUsersByHandle(list));\n        return list;\n      } catch (err: any) {\n        if (err?.name !== 'AbortError') console.error('Failed to load users', err);\n        return null;\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    []\n  );\n\n  const fetchUserByHandle = useCallback(\n    async (handle: string, opts?: { signal?: AbortSignal }): Promise<ApiUser | null> => {\n      if (!handle) return null;\n      try {\n        setIsLoading(true);\n        const data = await fetchJSON<{ user?: ApiUser }>(\n          `/api/users/${encodeURIComponent(handle)}`,\n          undefined,\n          opts?.signal\n        );\n        const user = data?.user ?? null;\n        if (user) {\n          setUsersByHandle(prev => ({ ...prev, [user.handle]: user }));\n        }\n        return user;\n      } catch (err: any) {\n        if (err?.name !== 'AbortError') console.error(`Failed to load user \"${handle}\"`, err);\n        return null;\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    []\n  );\n\n  /* ─────────────── lifecycle ─────────────── */\n\n  // Initial load\n  useEffect(() => {\n    const ctrl = new AbortController();\n    fetchUsers({ signal: ctrl.signal });\n    return () => ctrl.abort();\n  }, [fetchUsers]);\n\n  // Sync selection from URL; fetch single user if needed\n  useEffect(() => {\n    if (!urlHandle) return;\n\n    const existing = usersByHandle[urlHandle];\n    if (existing) {\n      setSelected(existing);\n      return;\n    }\n\n    const ctrl = new AbortController();\n    fetchUserByHandle(urlHandle, { signal: ctrl.signal }).then(user => {\n      if (user) setSelected(user);\n    });\n    return () => ctrl.abort();\n  }, [urlHandle, usersByHandle, fetchUserByHandle]);\n\n  /* ─────────────── context ─────────────── */\n\n  const context: UserContextType = useMemo(\n    () => ({\n      fetch: fetchUsers,\n      usersByHandle,\n      selected,\n      setSelected,\n      isLoading,\n    }),\n    [fetchUsers, usersByHandle, selected, isLoading]\n  );\n\n  return <UserContext.Provider value={context}>{children}</UserContext.Provider>;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2947, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/components/modules/users/configs/UserList/UserList.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport {\n  Stack,\n  Typography,\n  Divider,\n  List,\n  ListItemButton,\n  ListItemText,\n  TextField,\n  CircularProgress,\n  Box,\n} from '@mui/material';\nimport Collapsible from '@/components/common/Collapsible';\nimport { useUsers } from '@/components/modules/users/context';\nimport { ApiUser } from '@/app/api/mappers/user';\n\nexport default function UserList() {\n  const { usersByHandle, selected, isLoading } = useUsers();\n  const { push } = useRouter();\n  const pathname = usePathname();\n  const [query, setQuery] = React.useState<string>('');\n\n  const deferredQuery = React.useDeferredValue(query);\n  const items = React.useMemo(\n    () => Object.values(usersByHandle ?? {}),\n    [usersByHandle]\n  );\n\n  const filtered = React.useMemo(() => {\n    const q = deferredQuery.trim().toLowerCase();\n    if (!q) return items;\n    return items.filter((user) =>\n      user.handle.includes(q) ||\n      user.name.includes(q) ||\n      user.faction.includes(q) ?\n      user.handle === selected?.handle : null\n    );\n  }, [deferredQuery, items, selected]);\n\n  const handleSelect = React.useCallback((user: ApiUser) => {\n    if (user.handle === selected) return;\n    const url = pathname.split('/');\n    if (url[2]) url[2] = user.handle;\n    else url.push(user.handle);\n    push(url.join('/'));\n  }, [selected, push, pathname]);\n\n  return (\n    <Collapsible title=\"Users\">\n      <Stack spacing={1.5}>\n        <TextField\n          size=\"small\"\n          placeholder=\"Filter by handle or faction…\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          autoComplete=\"off\"\n        />\n        { isLoading && <Box sx={{ width: '100%', height: '100%', display: 'flex', alignContent: 'center', justifyContent: 'center' }}><CircularProgress /></Box> }\n\n        { items.length === 0 ? <Typography color=\"text.secondary\">No users loaded yet.</Typography> :\n          <>\n            <Divider sx={{ opacity: 0.5 }} />\n            <List dense disablePadding sx={{ maxHeight: '400px', overflowY: 'scroll' }}>\n              { filtered.map((user: ApiUser) => (\n                <ListItemButton key={ user.id } sx={{ borderRadius: 1, mb: 0.5, mr: 1 }} selected={ selected?.id === user.id } onClick={ () => handleSelect(user) }>\n                  <ListItemText primaryTypographyProps={{ noWrap: true }} primary={ user.handle } secondaryTypographyProps={{ noWrap: true }} secondary={ user.faction } />\n                </ListItemButton>\n              )) }\n            </List>\n          </>\n        }\n      </Stack>\n    </Collapsible>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAhBA;;;;;;;AAmBe,SAAS;IACtB,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,WAAQ,AAAD;IACtD,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACzB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,OAAO,SAAS,GAAG,qMAAA,CAAA,WAAc,CAAS;IAEjD,MAAM,gBAAgB,qMAAA,CAAA,mBAAsB,CAAC;IAC7C,MAAM,QAAQ,qMAAA,CAAA,UAAa,CACzB,IAAM,OAAO,MAAM,CAAC,iBAAiB,CAAC,IACtC;QAAC;KAAc;IAGjB,MAAM,WAAW,qMAAA,CAAA,UAAa,CAAC;QAC7B,MAAM,IAAI,cAAc,IAAI,GAAG,WAAW;QAC1C,IAAI,CAAC,GAAG,OAAO;QACf,OAAO,MAAM,MAAM,CAAC,CAAC,OACnB,KAAK,MAAM,CAAC,QAAQ,CAAC,MACrB,KAAK,IAAI,CAAC,QAAQ,CAAC,MACnB,KAAK,OAAO,CAAC,QAAQ,CAAC,KACtB,KAAK,MAAM,KAAK,UAAU,SAAS;IAEvC,GAAG;QAAC;QAAe;QAAO;KAAS;IAEnC,MAAM,eAAe,qMAAA,CAAA,cAAiB,CAAC,CAAC;QACtC,IAAI,KAAK,MAAM,KAAK,UAAU;QAC9B,MAAM,MAAM,SAAS,KAAK,CAAC;QAC3B,IAAI,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,GAAG,KAAK,MAAM;aAC3B,IAAI,IAAI,CAAC,KAAK,MAAM;QACzB,KAAK,IAAI,IAAI,CAAC;IAChB,GAAG;QAAC;QAAU;QAAM;KAAS;IAE7B,qBACE,8OAAC,2IAAA,CAAA,UAAW;QAAC,OAAM;kBACjB,cAAA,8OAAC,8LAAA,CAAA,QAAK;YAAC,SAAS;;8BACd,8OAAC,0MAAA,CAAA,YAAS;oBACR,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,cAAa;;;;;;gBAEb,2BAAa,8OAAC,wLAAA,CAAA,MAAG;oBAAC,IAAI;wBAAE,OAAO;wBAAQ,QAAQ;wBAAQ,SAAS;wBAAQ,cAAc;wBAAU,gBAAgB;oBAAS;8BAAG,cAAA,8OAAC,+NAAA,CAAA,mBAAgB;;;;;;;;;;gBAE7I,MAAM,MAAM,KAAK,kBAAI,8OAAC,6MAAA,CAAA,aAAU;oBAAC,OAAM;8BAAiB;;;;;yCACxD;;sCACE,8OAAC,oMAAA,CAAA,UAAO;4BAAC,IAAI;gCAAE,SAAS;4BAAI;;;;;;sCAC5B,8OAAC,2LAAA,CAAA,OAAI;4BAAC,KAAK;4BAAC,cAAc;4BAAC,IAAI;gCAAE,WAAW;gCAAS,WAAW;4BAAS;sCACrE,SAAS,GAAG,CAAC,CAAC,qBACd,8OAAC,yNAAA,CAAA,iBAAc;oCAAiB,IAAI;wCAAE,cAAc;wCAAG,IAAI;wCAAK,IAAI;oCAAE;oCAAG,UAAW,UAAU,OAAO,KAAK,EAAE;oCAAG,SAAU,IAAM,aAAa;8CAC1I,cAAA,8OAAC,mNAAA,CAAA,eAAY;wCAAC,wBAAwB;4CAAE,QAAQ;wCAAK;wCAAG,SAAU,KAAK,MAAM;wCAAG,0BAA0B;4CAAE,QAAQ;wCAAK;wCAAG,WAAY,KAAK,OAAO;;;;;;mCADhI,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAU7C","debugId":null}},
    {"offset": {"line": 3109, "column": 0}, "map": {"version":3,"sources":["file:///Users/zefir/projects/giger/epsilon/src/contexts/ConfirmProvider.tsx"],"sourcesContent":["// components/ConfirmProvider.tsx\n'use client';\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\nimport {\n  Dialog, DialogTitle, DialogContent,\n  DialogContentText, DialogActions,\n  Button,\n} from '@mui/material';\n\ntype ConfirmOptions = {\n  title?: string;\n  description?: string;\n  confirmText?: string;\n  cancelText?: string;\n};\n\ntype ConfirmContextType = (message: string | ConfirmOptions) => Promise<boolean>;\n\nconst ConfirmContext = createContext<ConfirmContextType | null>(null);\n\nexport function ConfirmProvider({ children }: { children: ReactNode }) {\n  const [open, setOpen] = useState(false);\n  const [options, setOptions] = useState<ConfirmOptions>({});\n  const [resolver, setResolver] = useState<(result: boolean) => void>();\n\n  const confirm: ConfirmContextType = (message) => {\n    return new Promise<boolean>((resolve) => {\n      if (typeof message === 'string') {\n        setOptions({\n          title: 'Confirm',\n          description: message,\n          confirmText: 'Yes',\n          cancelText: 'No',\n        });\n      } else {\n        setOptions({\n          title: message.title ?? 'Confirm',\n          description: message.description,\n          confirmText: message.confirmText ?? 'Yes',\n          cancelText: message.cancelText ?? 'No',\n        });\n      }\n      setResolver(() => resolve);\n      setOpen(true);\n    });\n  };\n\n  const handleClose = (result: boolean) => {\n    setOpen(false);\n    resolver?.(result);\n  };\n\n  return (\n    <ConfirmContext.Provider value={confirm}>\n      {children}\n      <Dialog open={open} onClose={() => handleClose(false)} sx={(theme) => ({ background: theme.palette.background.paper })}>\n        {options.title && <DialogTitle>{options.title}</DialogTitle>}\n        {options.description && (\n          <DialogContent>\n            <DialogContentText>{options.description}</DialogContentText>\n          </DialogContent>\n        )}\n        <DialogActions>\n          <Button onClick={() => handleClose(false)} color=\"inherit\">\n            {options.cancelText}\n          </Button>\n          <Button onClick={() => handleClose(true)} color=\"error\" autoFocus>\n            {options.confirmText}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </ConfirmContext.Provider>\n  );\n}\n\nexport function useConfirm() {\n  const ctx = useContext(ConfirmContext);\n  if (!ctx) throw new Error('useConfirm must be used inside <ConfirmProvider>');\n  return ctx;\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AAEjC;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;;AAiBA,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA6B;AAEzD,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IACnE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,CAAC;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD;IAEvC,MAAM,UAA8B,CAAC;QACnC,OAAO,IAAI,QAAiB,CAAC;YAC3B,IAAI,OAAO,YAAY,UAAU;gBAC/B,WAAW;oBACT,OAAO;oBACP,aAAa;oBACb,aAAa;oBACb,YAAY;gBACd;YACF,OAAO;gBACL,WAAW;oBACT,OAAO,QAAQ,KAAK,IAAI;oBACxB,aAAa,QAAQ,WAAW;oBAChC,aAAa,QAAQ,WAAW,IAAI;oBACpC,YAAY,QAAQ,UAAU,IAAI;gBACpC;YACF;YACA,YAAY,IAAM;YAClB,QAAQ;QACV;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,QAAQ;QACR,WAAW;IACb;IAEA,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;;YAC7B;0BACD,8OAAC,iMAAA,CAAA,SAAM;gBAAC,MAAM;gBAAM,SAAS,IAAM,YAAY;gBAAQ,IAAI,CAAC,QAAU,CAAC;wBAAE,YAAY,MAAM,OAAO,CAAC,UAAU,CAAC,KAAK;oBAAC,CAAC;;oBAClH,QAAQ,KAAK,kBAAI,8OAAC,gNAAA,CAAA,cAAW;kCAAE,QAAQ,KAAK;;;;;;oBAC5C,QAAQ,WAAW,kBAClB,8OAAC,sNAAA,CAAA,gBAAa;kCACZ,cAAA,8OAAC,kOAAA,CAAA,oBAAiB;sCAAE,QAAQ,WAAW;;;;;;;;;;;kCAG3C,8OAAC,sNAAA,CAAA,gBAAa;;0CACZ,8OAAC,iMAAA,CAAA,SAAM;gCAAC,SAAS,IAAM,YAAY;gCAAQ,OAAM;0CAC9C,QAAQ,UAAU;;;;;;0CAErB,8OAAC,iMAAA,CAAA,SAAM;gCAAC,SAAS,IAAM,YAAY;gCAAO,OAAM;gCAAQ,SAAS;0CAC9D,QAAQ,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;AAEO,SAAS;IACd,MAAM,MAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}}]
}